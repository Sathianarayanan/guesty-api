<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Platform API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #151515;
  background-color: #ac4142;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #505050;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #d0d0d0;
}
.highlight .p, .highlight .pi {
  color: #d0d0d0;
}
.highlight .gi {
  color: #90a959;
}
.highlight .gd {
  color: #ac4142;
}
.highlight .gh {
  color: #6a9fb5;
  background-color: #151515;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #aa759f;
}
.highlight .kc {
  color: #d28445;
}
.highlight .kt {
  color: #d28445;
}
.highlight .kd {
  color: #d28445;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #90a959;
}
.highlight .sr {
  color: #75b5aa;
}
.highlight .si {
  color: #8f5536;
}
.highlight .se {
  color: #8f5536;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #6a9fb5;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #90a959;
}
.highlight .ss {
  color: #90a959;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;json&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img class="logo" src="images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="json">json</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='http://github.com/tripit/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<p>Guesty platform API.</p>

<h1 id="authentication">Authentication</h1>

<p>To use the Guesty API, youâ€™ll need a private API key that is linked to your account. You can generate one <a href="https://app.guesty.com/account/system/general">here</a></p>

<p>Be sure to keep this API key private. All API requests must be made over HTTPS and are authenticated via HTTP Basic Auth. Use your API key as the username and secret as the password.</p>

<h1 id="search">Search</h1>

<h2 id="search-for-everything">Search for everything</h2>
<pre class="highlight json"><code><span class="w">    </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"reservation"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"537266ab8cc22c0b000000b7"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Booking #ABCDEF"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Koby Soto on dates Oct. 28 - Nov. 01"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"picture"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://images.com/image.jpg"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /search</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>q</td>
<td><code class="prettyprint">null</code></td>
<td><strong>Required</strong> Search query string.</td>
<td><code class="prettyprint">Koby Soto</code></td>
</tr>
<tr>
<td>type</td>
<td><code class="prettyprint">null</code></td>
<td>Limit search subjects. No limit when <code class="prettyprint">null</code>. Options are <code class="prettyprint">accounts</code>, <code class="prettyprint">users</code>, <code class="prettyprint">contacts</code>, <code class="prettyprint">integrations</code>, <code class="prettyprint">listings</code>, <code class="prettyprint">bookings</code>, <code class="prettyprint">views</code>.</td>
<td><code class="prettyprint">users</code></td>
</tr>
<tr>
<td>limit</td>
<td><code class="prettyprint">25</code></td>
<td>Pagination, max: 100</td>
<td><code class="prettyprint">25</code></td>
</tr>
<tr>
<td>skip</td>
<td><code class="prettyprint">0</code></td>
<td>Pagination</td>
<td><code class="prettyprint">0</code></td>
</tr>
</tbody></table>

<p>For users, searches in <code class="prettyprint">fullName</code>, <code class="prettyprint">emails</code>, <code class="prettyprint">phones</code>.</p>

<p>For integrations, searches in <code class="prettyprint">nickname</code>, <code class="prettyprint">externalLink</code>, <code class="prettyprint">incomingEmail</code></p>

<p>For contacts, searches in <code class="prettyprint">fullName</code>, <code class="prettyprint">emails</code>, <code class="prettyprint">phones</code>.</p>

<p>For listings, searches in <code class="prettyprint">title</code>, <code class="prettyprint">nickname</code>, <code class="prettyprint">tags</code>, <code class="prettyprint">address.full</code>, <code class="prettyprint">integrations.externalUrl</code>.</p>

<p>For bookings, searches in <code class="prettyprint">confirmationCode</code>, <code class="prettyprint">guest.fullName</code>, <code class="prettyprint">guest.emails</code>, <code class="prettyprint">guest.phones</code>.</p>

<p>For views, searches in <code class="prettyprint">title</code>.</p>

<h3 id="response">Response</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>Result type. Options are <code class="prettyprint">account</code>, <code class="prettyprint">user</code>, <code class="prettyprint">contact</code>, <code class="prettyprint">integration</code>, <code class="prettyprint">listing</code>, <code class="prettyprint">reservation</code></td>
</tr>
<tr>
<td>_id</td>
<td>The result unique id in its collection, for instance, for users, users._id</td>
</tr>
<tr>
<td>title</td>
<td>The title to display. For accounts: <code class="prettyprint">name</code>; For users: <code class="prettyprint">fullName</code>; For contacts: <code class="prettyprint">fullName</code>; For integrations: <code class="prettyprint">fullName</code>; For listings: <code class="prettyprint">title</code>; For bookings: <code class="prettyprint">Booking #confirmationCode</code>; For views: <code class="prettyprint">title</code>.</td>
</tr>
<tr>
<td>description</td>
<td>The description to display. For users: <code class="prettyprint">email, phone</code>; For contacts: <code class="prettyprint">email, phone</code>; For integrations: <code class="prettyprint">nickname, incomingEmail</code>; For listings: <code class="prettyprint">address.full</code>; For bookings: <code class="prettyprint">guest.fullname on dates checkIn-checkOut</code></td>
</tr>
<tr>
<td>picture</td>
<td>The picture to display. For users: <code class="prettyprint">picture.thumbnail</code>; For contacts: <code class="prettyprint">null</code>; For listings: <code class="prettyprint">picture.thumbnail</code>; For bookings: <code class="prettyprint">guest.picture.thumbnail</code></td>
</tr>
<tr>
<td>nickname</td>
<td>For listings: <code class="prettyprint">nickname</code>; For all others: <code class="prettyprint">null</code></td>
</tr>
</tbody></table>

<h1 id="accounts">Accounts</h1>

<h2 id="the-account-object">The account object</h2>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>_id</td>
<td>String</td>
<td>Unique id</td>
</tr>
<tr>
<td>active</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>mailingAddress</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>createdAt</td>
<td>Date</td>
<td></td>
</tr>
<tr>
<td>timezone</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>currency</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>accountCategorization</td>
<td>Enum</td>
<td>[0-5]</td>
</tr>
<tr>
<td>accountCategorizationIsManual</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>onBoarding:</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;updatedAt</td>
<td>Date</td>
<td></td>
</tr>
<tr>
<td>&mdash;createdAt</td>
<td>Date</td>
<td></td>
</tr>
<tr>
<td>&mdash;receivedBasicWufooAt</td>
<td>Date</td>
<td></td>
</tr>
<tr>
<td>&mdash;reviewedBasicWufooAt</td>
<td>Date</td>
<td></td>
</tr>
<tr>
<td>&mdash;remindedAboutBasicWufoo</td>
<td>Date</td>
<td></td>
</tr>
<tr>
<td>&mdash;sentAdvancedWufooAt</td>
<td>Date</td>
<td></td>
</tr>
<tr>
<td>&mdash;receivedAdvancedWufooAt</td>
<td>Date</td>
<td></td>
</tr>
<tr>
<td>&mdash;reviewedAdvancedWufooAt</td>
<td>Date</td>
<td></td>
</tr>
<tr>
<td>&mdash;createdFirstHookAt</td>
<td>Date</td>
<td></td>
</tr>
<tr>
<td>&mdash;completedAt</td>
<td>Date</td>
<td></td>
</tr>
<tr>
<td>&mdash;zendeskTicketId</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;zendeskPostBookingTicketId</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>plan</td>
<td>Enum</td>
<td>[&lsquo;Commission&rsquo;, &#39;SaaS Monthly&rsquo;]</td>
</tr>
<tr>
<td>commission</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;percentage</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>&mdash;minimum</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>SaaS</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;monthlyPrice</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>pricePlan</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>pricePlanMinimum</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>billing</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;billingContact</td>
<td>String</td>
<td>User ID</td>
</tr>
<tr>
<td>&mdash;createdAt</td>
<td>Date</td>
<td></td>
</tr>
<tr>
<td>&mdash;stripeCustomerId</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;billingCycle</td>
<td>Enum</td>
<td>[&#39;Weekly&rsquo;, &#39;Monthly&rsquo;, &#39;Bi-weekly&rsquo;]</td>
</tr>
<tr>
<td>&mdash;billingDay</td>
<td>Number</td>
<td><a href="SaaS monthly cycle">1-31</a></td>
</tr>
<tr>
<td>&mdash;nextBillingDate</td>
<td>Date</td>
<td>Next commission billing cycle</td>
</tr>
<tr>
<td>&mdash;prevBillingDate</td>
<td>Date</td>
<td>Previous commission billing cycle</td>
</tr>
<tr>
<td>&mdash;balance</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;amount</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;currency</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;paymentMethods</td>
<td>[paymentMethod]</td>
<td></td>
</tr>
<tr>
<td>&mdash;invoiceTriggerAmount</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>&mdash;noFreezingFlow</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>freezingFlow</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>availablePhoneNumbers</td>
<td>[String]</td>
<td>Phone numbers that the user has bought</td>
</tr>
<tr>
<td>proxyEmail</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>whiteLabel</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;brand</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;name</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;picture</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;appDomain</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;integrationEmailDomains</td>
<td>[Object]</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;domain</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;smtp</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;user</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;pass</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;integrationsEmailDomain</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>systemEmailsRecipients</td>
<td>[String]</td>
<td>User IDs</td>
</tr>
<tr>
<td>receptionistsService</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;contactPersonUserId</td>
<td>String</td>
<td>User ID</td>
</tr>
<tr>
<td>&mdash;receptionDesk</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;ittt</td>
<td>[Object]</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;ifThis</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;thenThat</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;whiteLabel</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;customImpersonation</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;customSignature</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;screening</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;checklist</td>
<td>[Object]</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;item</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;isProactive</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>postBookingService</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;manualWorkDescription</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>pms</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;inbox</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;customSignature</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;cleaningStatus</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;statusFade</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;active</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;days</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;toStatus</td>
<td>Enum</td>
<td>[&#39;unknown&rsquo;, &#39;dirty&rsquo;]</td>
</tr>
<tr>
<td>&mdash;&mdash;markAsDirtyOnCheckIn</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>&mdash;website</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;active</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;name</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;defaultStatusForNewReservations</td>
<td>Enum [&#39;reserved&rsquo;, &#39;confirmed&rsquo;]</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;maxGuests</td>
<td>Enum</td>
<td>[1-16]</td>
</tr>
<tr>
<td>&mdash;&mdash;title</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;headerPic</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;defaultSort</td>
<td>Enum</td>
<td>[&#39;title&rsquo;, &#39;accommodates&rsquo;, &#39;bedrooms&rsquo;]</td>
</tr>
<tr>
<td>&mdash;paymentProcessingFeature</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;method</td>
<td>String</td>
<td>currently only <code class="prettyprint">stripe</code></td>
</tr>
<tr>
<td>&mdash;&mdash;stripe</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;id</td>
<td>String</td>
<td>Stripe account id</td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;data</td>
<td>Object</td>
<td>Stripe account object</td>
</tr>
<tr>
<td>&mdash;&mdash;defaultPaymentScheduling</td>
<td>[Object]</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;formula</td>
<td>String</td>
<td>For example <code class="prettyprint">checkIn minus 2 days</code></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;amount</td>
<td>String</td>
<td>For example <code class="prettyprint">20%</code></td>
</tr>
<tr>
<td>netIncomeFormula</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>commissionFormula</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>commissionTaxPercentage</td>
<td>Number</td>
<td>[0-100]</td>
</tr>
<tr>
<td>customFields</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;object</td>
<td>Enum</td>
<td>[&#39;listing&rsquo;, &#39;reservation&rsquo;]</td>
</tr>
<tr>
<td>&mdash;key</td>
<td>String</td>
<td>Custom field name</td>
</tr>
<tr>
<td>&mdash;type</td>
<td>Enum</td>
<td>[&#39;text&rsquo;, &#39;longtext&rsquo;, &#39;number&rsquo;, &#39;date&rsquo;, &#39;time&rsquo;, &#39;boolean&rsquo;, &#39;user&rsquo;, &#39;contact&rsquo;, &#39;enum&rsquo;]</td>
</tr>
<tr>
<td>&mdash;options</td>
<td>[String]</td>
<td>For Enum custom fields</td>
</tr>
</tbody></table>

<h2 id="retrieve-account-stats">Retrieve account stats</h2>
<pre class="highlight json"><code><span class="w">    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"confirmed"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">37</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"checkins"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">13</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"avgPayout"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">1540</span><span class="p">,</span><span class="w">
            </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"$"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"avgNights"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">3.5</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"avgGuests"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.4</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"avgDaysInAdvance"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">31</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"listingsCount"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"active"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
            </span><span class="nt">"unlisted"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /accounts/me/stats</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>listingId</td>
<td>&mdash;</td>
<td>Limit to a certain listing. If given no listingsCount is returned.</td>
<td><code class="prettyprint">531967884930a7f09b0756e7</code></td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>Stats object.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Structure</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>confirmed</td>
<td>Object: value</td>
<td>The amount of bookings that their createdAt is in the last 30 days</td>
</tr>
<tr>
<td>checkins</td>
<td>Object: value</td>
<td>The amount of bookings that their checkIn is in the last 30 days</td>
</tr>
<tr>
<td>avgPayout</td>
<td>Object: value, currency</td>
<td>The avg. hostPayout of bookings created in the last 30 days</td>
</tr>
<tr>
<td>avgNights</td>
<td>Object: value</td>
<td>The avg. nightsCount of bookings created in the last 30 days</td>
</tr>
<tr>
<td>avgGuests</td>
<td>Object: value</td>
<td>The avg. guestsCount of bookings created in the last 30 days</td>
</tr>
<tr>
<td>avgDaysInAdvance</td>
<td>Object: value</td>
<td>The avg. of days from booking.createdAt and booking.checkIn for bookings created in the last 30 days</td>
</tr>
<tr>
<td>listingsCount</td>
<td>Object: active, unlisted</td>
<td><em>Active</em> is the number of managed and listed listings at the moment, <em>Unlisted</em> are managed and unlisted</td>
</tr>
</tbody></table>

<h2 id="retrieve-account-39-s-billing-status">Retrieve account&rsquo;s billing status</h2>
<pre class="highlight json"><code><span class="w">    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"accountBalance"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">203</span><span class="p">,</span><span class="w">
            </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"$"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"nextBillingDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-09-24 14:30:22.744Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /accounts/me/billing-status</code></p>

<h3 id="response">Response</h3>

<p>Billing status for the requested user.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Structure</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>Enum</td>
<td><code class="prettyprint">ok</code> if all payments method haven&rsquo;t failed<br><code class="prettyprint">missing</code> if missing payment method<br><code class="prettyprint">failed</code> if there is a payment method that has failed.</td>
</tr>
<tr>
<td>accountBalance</td>
<td>Object: amount, currency</td>
<td>The credits available for the user</td>
</tr>
<tr>
<td>nextBillingDate</td>
<td>Date</td>
<td>The date for the next billing cycle</td>
</tr>
</tbody></table>

<h1 id="roles">Roles</h1>

<h2 id="the-role-object">The role object</h2>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"5319674d4930a7f09b075695"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Account admin"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"permissions"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"admin"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>_id</td>
<td>String</td>
<td>Unique id</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>Name of the role</td>
</tr>
<tr>
<td>permissions</td>
<td>[Enum]</td>
<td>Array of values from [&#39;admin&rsquo;, &#39;listing.viewer&rsquo;, &#39;listing.calendar.availability&rsquo;, &#39;listing.calendar.full&rsquo;, &#39;listing.financials&rsquo;, &#39;listing.manager&rsquo;, &#39;listing.admin&rsquo;, &#39;integration.manager&rsquo;]</td>
</tr>
<tr>
<td>fields</td>
<td>Array (String)</td>
<td></td>
</tr>
</tbody></table>

<h2 id="list-all-roles">List all roles</h2>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w">
    </span><span class="nt">"skip"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"5319674d4930a7f09b075695"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Account admin"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"permissions"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"admin"</span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /roles</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>fields</td>
<td><code class="prettyprint">null</code></td>
<td>Selection of fields, separated by space</td>
<td><code class="prettyprint">_id name</code></td>
</tr>
<tr>
<td>limit</td>
<td><code class="prettyprint">25</code></td>
<td>Pagination, max: 100</td>
<td><code class="prettyprint">25</code></td>
</tr>
<tr>
<td>skip</td>
<td><code class="prettyprint">0</code></td>
<td>Pagination</td>
<td><code class="prettyprint">0</code></td>
</tr>
</tbody></table>

<h2 id="create-a-role">Create a role</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /roles</code></p>

<h3 id="response">Response</h3>

<p>The created role object.</p>

<h2 id="retrieve-a-role">Retrieve a role</h2>
<pre class="highlight json"><code><span class="w">    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"5319674d4930a7f09b075695"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Account admin"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"permissions"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"admin"</span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /roles/:id</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>fields</td>
<td>&mdash;</td>
<td>Selection of fields, separated by space</td>
<td><code class="prettyprint">_id name</code></td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>The requested role.</p>

<h2 id="update-a-role">Update a role</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT /roles/:id</code></p>

<h3 id="response">Response</h3>

<p>Retrieve the updated role, selection of fields that were sent in body.</p>

<h2 id="delete-a-role">Delete a role</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE /roles/:id</code></p>

<h3 id="response">Response</h3>

<p><code class="prettyprint">&quot;OK&quot;</code></p>

<h1 id="users">Users</h1>

<h2 id="the-user-object">The user object</h2>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>_id</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>email</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>accountId</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>firstName</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>lastName</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>fullName</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>title</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>timezone</td>
<td>String</td>
<td>Europe/Amsterdam</td>
</tr>
<tr>
<td>picture</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;thumbnail</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;regular</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;large</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>tags</td>
<td>[String]</td>
<td></td>
</tr>
<tr>
<td>emails</td>
<td>[String]</td>
<td></td>
</tr>
<tr>
<td>phones</td>
<td>[String]</td>
<td></td>
</tr>
<tr>
<td>preferredContactMethod</td>
<td>Enum</td>
<td>[email, sms]</td>
</tr>
<tr>
<td>noteBeforeContacting</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>phone</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>notes</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>roles</td>
<td>[Object]</td>
<td></td>
</tr>
<tr>
<td>&mdash;roleId</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;listingIds</td>
<td>[String]</td>
<td></td>
</tr>
<tr>
<td>googleChromeNotificationsSubscriptionIds</td>
<td>[String]</td>
<td></td>
</tr>
</tbody></table>

<h2 id="list-all-users">List all users</h2>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fields"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email firstName lastName"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w">
    </span><span class="nt">"skip"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"5319674d4930a7f09b075695"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"email"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"iamkoby@gmail.com"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"firstName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Koby"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"lastName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Soto"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /users</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>q</td>
<td><code class="prettyprint">null</code></td>
<td>Search query string. Searches in <code class="prettyprint">fullName</code>, <code class="prettyprint">emails</code>, <code class="prettyprint">phones</code></td>
<td><code class="prettyprint">Koby Soto</code></td>
</tr>
<tr>
<td>fields</td>
<td><code class="prettyprint">null</code></td>
<td>Selection of fields, separated by space</td>
<td><code class="prettyprint">firstName lastName email</code></td>
</tr>
<tr>
<td>limit</td>
<td><code class="prettyprint">25</code></td>
<td>Pagination, max: 100</td>
<td><code class="prettyprint">25</code></td>
</tr>
<tr>
<td>skip</td>
<td><code class="prettyprint">0</code></td>
<td>Pagination</td>
<td><code class="prettyprint">0</code></td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>Array of requested users</p>

<h2 id="retrieve-a-user">Retrieve a user</h2>
<pre class="highlight json"><code><span class="w">    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"5319674d4930a7f09b075695"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"email"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"iamkoby@gmail.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"firstName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Koby"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"lastName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Soto"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /users/:id</code>
<strong>OR</strong>
<code class="prettyprint">GET /me</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>fields</td>
<td>&mdash;</td>
<td>Selection of fields, separated by space</td>
<td><code class="prettyprint">firstName lastName email</code></td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>The requested user.</p>

<h2 id="update-a-user">Update a user</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT /users/:id</code>
<strong>OR</strong>
<code class="prettyprint">PUT /me</code></p>

<h3 id="response">Response</h3>

<p>Retrieve the updated user, selection of fields that were sent in body.</p>

<h2 id="delete-a-user">Delete a user</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE /users/:id</code></p>

<h3 id="validation">Validation</h3>

<p>Cannot delete self, cannot delete last user in account.</p>

<h2 id="check-email-address-availability">Check email address availability</h2>
<pre class="highlight json"><code><span class="w">    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"available"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /users/email-availability</code></p>

<h3 id="authorization">Authorization</h3>

<p>Accessible to everyone. No need to authenticate.</p>

<h3 id="response">Response</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Structure</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>available</td>
<td>Boolean</td>
<td>True if this email is available to use, false otherwise.</td>
</tr>
</tbody></table>

<h1 id="integrations">Integrations</h1>

<h2 id="the-integration-object">The integration object</h2>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>_id</td>
<td>String</td>
<td>Unique id</td>
</tr>
<tr>
<td>accountId</td>
<td>String</td>
<td>Owner</td>
</tr>
<tr>
<td>platform</td>
<td>Enum</td>
<td>[airbnb, rentalsUnited, manual]</td>
</tr>
<tr>
<td>id</td>
<td>Number</td>
<td>External ID</td>
</tr>
<tr>
<td>active</td>
<td>Boolean</td>
<td>Status of connection</td>
</tr>
<tr>
<td>nickname</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>forwardEmails</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;all</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>&mdash;confirmations</td>
<td>Boolean,</td>
<td></td>
</tr>
<tr>
<td>&mdash;inquiries</td>
<td>Boolean,</td>
<td></td>
</tr>
<tr>
<td>&mdash;requests</td>
<td>Boolean,</td>
<td></td>
</tr>
<tr>
<td>&mdash;reviews</td>
<td>Boolean,</td>
<td></td>
</tr>
<tr>
<td>&mdash;payments</td>
<td>Boolean,</td>
<td></td>
</tr>
<tr>
<td>&mdash;reminders</td>
<td>Boolean,</td>
<td></td>
</tr>
<tr>
<td>&mdash;emailsFromGuest</td>
<td>Boolean,</td>
<td></td>
</tr>
<tr>
<td>&mdash;externals</td>
<td>Boolean,</td>
<td></td>
</tr>
<tr>
<td>&mdash;emails</td>
<td>[String],</td>
<td></td>
</tr>
<tr>
<td>&mdash;asGuest</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>credentials</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;username</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;password</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>incomingEmail</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>connectedAt</td>
<td>Date</td>
<td></td>
</tr>
<tr>
<td>disconnectedAt</td>
<td>Date</td>
<td></td>
</tr>
<tr>
<td>firstName</td>
<td>String</td>
<td>The name of the host as appears on that integration</td>
</tr>
<tr>
<td>lastName</td>
<td>String</td>
<td>The name of the host as appears on that integration</td>
</tr>
<tr>
<td>fullName</td>
<td>String</td>
<td>The name of the host as appears on that integration</td>
</tr>
<tr>
<td>birthDate</td>
<td>String</td>
<td>yyyy-mm-dd</td>
</tr>
<tr>
<td>externalLink</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>listingsList</td>
<td>Array</td>
<td><strong>@see POST /integrations/:id/retrieve-external-listings</strong></td>
</tr>
<tr>
<td>airbnb</td>
<td>Object</td>
<td>Only if platform is <code class="prettyprint">airbnb</code></td>
</tr>
<tr>
<td>&mdash;emailsFromSupport</td>
<td>[Object]</td>
<td></td>
</tr>
<tr>
<td>&mdash;ignored</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;listings</td>
<td>[String]</td>
<td>external ids of deleted listings</td>
</tr>
<tr>
<td>&mdash;&mdash;reservations</td>
<td>[String]</td>
<td>external ids of deleted reservations</td>
</tr>
<tr>
<td>rentalsUnited</td>
<td>Object</td>
<td>Only if platform is <code class="prettyprint">rentalsUnited</code></td>
</tr>
<tr>
<td>&mdash;ignored</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;listings</td>
<td>[String]</td>
<td>external ids of deleted listings</td>
</tr>
<tr>
<td>&mdash;&mdash;reservations</td>
<td>[String]</td>
<td>external ids of deleted reservations</td>
</tr>
</tbody></table>

<!-- ### `airbnb` object

Attribute | Type | Description
--------- | ------- | -----------
id  | Number | The id of the user in Airbnb
incomingEmail | String | The email address that we receive emails from.
username | String | Login credentials for the Airbnb account.
password | String | Login credentials
forwardEmails | Object | Toggles to forward the incoming emails. Boolean value.
||| Fields include: all, confirmations, inquiries, payments, requests, reviews, reminders, emailsFromGuest, externals.
||| Field emails is an array of email addresses to be forwarded to. -->

<!-- ### `rentalsUnited` object

Attribute | Type | Description
--------- | ------- | -----------
id  | Number | The id of the user in Airbnb
incomingEmail | String | The email address that we receive emails from
username | String
password | String -->

<h2 id="list-all-integrations">List all integrations</h2>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w">
    </span><span class="nt">"skip"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"53eb27386b51b257846cdd11"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"active"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nt">"credentials"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"username"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"iamkoby@superhostuser.com"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"incomingEmail"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"iamkoby@superhostuser.com"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"platform"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"airbnb"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /integrations</code></p>

<!-- Can only view included integrations. -->

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>fields</td>
<td><code class="prettyprint">null</code></td>
<td>Selection of fields, separated by space</td>
<td><code class="prettyprint">&quot;platform incomingEmail credentials.username&quot;</code></td>
</tr>
<tr>
<td>sort</td>
<td><code class="prettyprint">&quot;-active nickname&quot;</code></td>
<td>Sorting</td>
<td><code class="prettyprint">&quot;nickname&quot;</code></td>
</tr>
<tr>
<td>limit</td>
<td><code class="prettyprint">25</code></td>
<td>Pagination, max: 100</td>
<td><code class="prettyprint">25</code></td>
</tr>
<tr>
<td>skip</td>
<td><code class="prettyprint">0</code></td>
<td>Pagination</td>
<td><code class="prettyprint">0</code></td>
</tr>
</tbody></table>

<aside class="info">Credentials passwords are returned decrypted</aside>

<h2 id="retrieve-an-integration">Retrieve an integration</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /integrations/:id</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>fields</td>
<td><code class="prettyprint">null</code></td>
<td>Selection of fields, separated by space. When <code class="prettyprint">null</code> retrieve all object.</td>
<td><code class="prettyprint">&quot;firstName lastName&quot;</code></td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>Integration object.</p>

<aside class="info">Credentials passwords are returned decrypted</aside>

<h2 id="create-an-integration">Create an integration</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /integrations</code></p>

<p>Available fields: <code class="prettyprint">platform</code>, <code class="prettyprint">airbnb.username</code>, <code class="prettyprint">airbnb.password</code>, <code class="prettyprint">rentalsUnited.username</code>, <code class="prettyprint">rentalsUnited.password</code>. Others ignored.</p>

<h3 id="response">Response</h3>

<p>The created integration object.</p>

<h2 id="update-an-integration">Update an integration</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT /integrations/:id</code></p>

<p>Available fields: <code class="prettyprint">nickname</code>, <code class="prettyprint">airbnb.incomingEmail</code>, <code class="prettyprint">airbnb.username</code>, <code class="prettyprint">airbnb.password</code>, <code class="prettyprint">airbnb.forwardEmails.*</code>. Others ignored.</p>

<!-- and request is of included integrations. -->

<h3 id="response">Response</h3>

<p>The updated integration with only the fields that were sent in body.</p>

<h2 id="delete-an-integration">Delete an integration</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE /integrations/:id</code></p>

<h3 id="response">Response</h3>

<p><code class="prettyprint">OK</code></p>

<h1 id="listings">Listings</h1>

<h2 id="the-listing-object">The listing object</h2>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"5319674d4930a7f09b075696"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"address"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"full"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Brener 1 Apt. 12, Tel Aviv, Israel"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"city"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Tel Aviv"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"country"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Israel"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"neighborhood"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Lev HaIr"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"street"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Brener 1"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"apt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Apt. 12"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"lat"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">32.0702059999999989</span><span class="p">,</span><span class="w">
        </span><span class="nt">"lng"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">34.7715839999999972</span><span class="p">,</span><span class="w">
        </span><span class="nt">"searchable"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Brener 1 , Tel Aviv, Israel"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"state"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nt">"zipcode"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"title"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Cozy luxurious home in real CENTER!"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>_id</td>
<td>String</td>
<td>Unique id</td>
</tr>
<tr>
<td>accountId</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>createdAt</td>
<td>Date</td>
<td></td>
</tr>
<tr>
<td>plan</td>
<td>Enum</td>
<td>[&#39;Commission&rsquo;, &#39;SaaS Monthly&rsquo;]</td>
</tr>
<tr>
<td>commission</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;percentage</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>&mdash;minimum</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>SaaS</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;monthlyPrice</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>&mdash;expiresAt</td>
<td>Date</td>
<td></td>
</tr>
<tr>
<td>&mdash;autoRenew</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>&mdash;freezingFlow</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>integrations</td>
<td>[Object]</td>
<td></td>
</tr>
<tr>
<td>&mdash;platform</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;_id</td>
<td>String</td>
<td>ref to integration</td>
</tr>
<tr>
<td>&mdash;externalUrl</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;airbnb</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;id</td>
<td>Number</td>
<td>Airbnb listing ID</td>
</tr>
<tr>
<td>&mdash;&mdash;reviewsCount</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;starRating</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;importCalendar</td>
<td>Boolean</td>
<td>If true - the calendar will be synced with Airbnb once a day</td>
</tr>
<tr>
<td>&mdash;&mdash;exportCalendar</td>
<td>Boolean</td>
<td>If true - the calendar will be pushed to Airbnb once a day</td>
</tr>
<tr>
<td>&mdash;rentalsUnited</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;id</td>
<td>Number</td>
<td>External ID</td>
</tr>
<tr>
<td>&mdash;&mdash;currency</td>
<td>String</td>
<td>The currency on RU</td>
</tr>
<tr>
<td>dailySyncInFromIntegrations</td>
<td>Boolean</td>
<td>If false - the listing static data will be not synced with Airbnb on a daily basis</td>
</tr>
<tr>
<td>pendingTasks</td>
<td>[Object]</td>
<td>pending sync tasks</td>
</tr>
<tr>
<td>&mdash;mqId</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;platform</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;description</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;error</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;createdAt</td>
<td>Date</td>
<td></td>
</tr>
<tr>
<td>isVirtual</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>nickname</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>tags</td>
<td>[String]</td>
<td></td>
</tr>
<tr>
<td>isListed</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>title</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>propertyType</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>roomType</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>bedType</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>accommodates</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>bedrooms</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>beds</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>bathrooms</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>areaSquareFeet</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>address</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;full</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;city</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;state</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;country</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;zipcode</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;neighborhood</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;street</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;apt</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;lat</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>&mdash;lng</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>&mdash;searchable</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;floor</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>timezone</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>instantBookable</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;enabled</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>&mdash;visibility</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;leadTime</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>defaultCheckInTime</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>checkInTimeIsStrict</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>checkInTo</td>
<td>String</td>
<td>The latest check in time</td>
</tr>
<tr>
<td>defaultCheckOutTime</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>checkOutTimeIsStrict</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>cleaning</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;defaultCleaningTime</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;instructions</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>cleaningStatus</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;value</td>
<td>Enum</td>
<td>[&#39;clean&rsquo;, &#39;dirty&rsquo;, &#39;unknown&rsquo;, null]</td>
</tr>
<tr>
<td>&mdash;updatedAt</td>
<td>Date</td>
<td></td>
</tr>
<tr>
<td>picture</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;thumbnail</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;regular</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;large</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;caption</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>pictures</td>
<td>[Object]</td>
<td></td>
</tr>
<tr>
<td>&mdash;original</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;thumbnail</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;regular</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;large</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;caption</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;isProfessional</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>&mdash;sort</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>&mdash;id</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>amenities</td>
<td>[String]</td>
<td></td>
</tr>
<tr>
<td>amenitiesNotIncluded</td>
<td>[String]</td>
<td></td>
</tr>
<tr>
<td>terms</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;minNights</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>&mdash;maxNights</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>&mdash;cancellation</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>prices</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;guestsIncludedInRegularFee</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>&mdash;extraPersonFee</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>&mdash;basePrice</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>&mdash;basePriceUSD</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>&mdash;monthlyPriceFactor</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>&mdash;weeklyPriceFactor</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>&mdash;weekendBasePrice</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>&mdash;securityDepositFee</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>&mdash;currency</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;cleaningFee</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>publicDescription</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;summary</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;space</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;access</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;neighborhood</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;transit</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;notes</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;houseRules</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;interactionWithGuests</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>privateDescription</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;directions</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;houseManual</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;wifi</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;network</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;password</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>netIncomeFormula</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>commissionFormula</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>commissionTaxPercentage</td>
<td>Enum</td>
<td>[0-100]</td>
</tr>
<tr>
<td>pms</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;active</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>&mdash;automation</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;answeringMachine</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;active</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;confirmedBeforeCheckIn</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;active</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;message</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;delayInMinutes</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;confirmedDayOfCheckIn</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;active</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;message</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;delayInMinutes</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;confirmedDayOfCheckOut</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;active</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;message</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;delayInMinutes</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;confirmedDuringStay</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;active</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;message</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;delayInMinutes</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;confirmedAfterCheckOut</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;active</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;message</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;delayInMinutes</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;unconfirmedFirstMessage</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;active</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;message</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;delayInMinutes</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;unconfirmedSubsequentMessage</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;active</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;message</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;delayInMinutes</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;hooks</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;active</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;ignoredHooks</td>
<td>[ObjectId]</td>
<td>Ref to Hooks</td>
</tr>
<tr>
<td>&mdash;&mdash;calendarSmartRules</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;active</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;blockListings</td>
<td>[ObjectId]</td>
<td>Ref to Listings</td>
</tr>
<tr>
<td>&mdash;&mdash;homeAutomation</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;buzzer</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;active</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;incomingNumber</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;toDial</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;autoList</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;active</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;config</td>
<td>[String]</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;autoReviews</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;active</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;daysBeforeSending</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;templates</td>
<td>[String]</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;starRating</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;autoPricing</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;active</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;rules</td>
<td>[Object]</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;startingFromDaysAhead</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;tillDaysAhead</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;amount</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;unit</td>
<td>Enum</td>
<td>[&rsquo;%&rsquo;, &#39;currency&rsquo;]</td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;subject</td>
<td>Enum</td>
<td>[&#39;available&rsquo;, &#39;gaps&rsquo;, &#39;occupancy&rsquo;]</td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;condition</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;operator</td>
<td>Enum</td>
<td>[&rsquo;$gte&rsquo;, &rsquo;$lte&rsquo;]</td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;amount</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>&mdash;inbox</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;customSignature</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;cleaningStatus</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;active</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;statusFade</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;active</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;days</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;toStatus</td>
<td>Enum</td>
<td>[&#39;unknown&rsquo;, &#39;dirty&rsquo;]</td>
</tr>
<tr>
<td>&mdash;&mdash;markAsDirtyOnCheckIn</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>&mdash;reservationAutoStatus</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;checkIn</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;checkOut</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>&mdash;paymentProcessingFeature</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;active</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;defaultPaymentScheduling</td>
<td>[Object]</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;_id</td>
<td>ObjectId</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;formula</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;amount</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>sales</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;distribution</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>&mdash;salesService</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;textual</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;phone</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;atPhones</td>
<td>[String]</td>
<td></td>
</tr>
<tr>
<td>receptionistsService</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;active</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>&mdash;contactPersonUserId</td>
<td>ObjectId</td>
<td>Ref to User</td>
</tr>
<tr>
<td>&mdash;receptionDesk</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;ittt</td>
<td>[Object]</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;ifThis</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;thenThat</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;approveRequests</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;textSupport</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;smsSupport</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;phoneSupport</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;atPhones</td>
<td>[String]</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;reservationTask</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;whiteLabel</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;customImpersonation</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;customSignature</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;screening</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;goOverChecklist</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;checklist</td>
<td>[Object]</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;item</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;isProactive</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;ifFailed</td>
<td>Enum</td>
<td>[&#39;flag&rsquo;, &#39;decline&rsquo;]</td>
</tr>
<tr>
<td>&mdash;&mdash;ifSuccess</td>
<td>Enum</td>
<td>[&#39;flag&rsquo;, &#39;approve&rsquo;, &#39;ask&rsquo;]</td>
</tr>
<tr>
<td>&mdash;reviews</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;monitorIncomingReviews</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;monitorIncomingReviewsGuidelines</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;writeReviewsForGuests</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;writeReviewsGuidelines</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>postBookingService</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;monitorReservations</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>&mdash;manualWork</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>&mdash;manualWorkDescription</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;findServiceProvider</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>&mdash;handleEmergencies</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>&mdash;reservationTask</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>active</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>customFields</td>
<td>[Object]</td>
<td></td>
</tr>
<tr>
<td>&mdash;fieldId</td>
<td>ObjectId</td>
<td>Ref to the definition (account.customFields._id)</td>
</tr>
<tr>
<td>&mdash;value</td>
<td>Mixed</td>
<td>Type is according to the definition</td>
</tr>
<tr>
<td>calendarRules</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>&mdash;seasonalMinNights</td>
<td>[Object]</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;from</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;to</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>DEPRECATED</td>
<td></td>
<td></td>
</tr>
<tr>
<td>pricePlan</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>pricePlanMinimum</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>importedAt</td>
<td>Date</td>
<td></td>
</tr>
<tr>
<td>importingPlatform</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>lastSyncedAt</td>
<td>Date</td>
<td></td>
</tr>
<tr>
<td>occupancyStats</td>
<td>[Object]</td>
<td></td>
</tr>
<tr>
<td>&mdash;month</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>&mdash;available</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>&mdash;unavailable</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>&mdash;booked</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>&mdash;rate</td>
<td>Number</td>
<td></td>
</tr>
</tbody></table>

<h2 id="list-all-listings">List all listings</h2>
<pre class="highlight json"><code><span class="w">    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w">
        </span><span class="nt">"skip"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"5319674d4930a7f09b075696"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"address"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"full"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Brener 1 Apt. 12, Tel Aviv, Israel"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"city"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Tel Aviv"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"country"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Israel"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"neighborhood"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Lev HaIr"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"street"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Brener 1"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"apt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Apt. 12"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"lat"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">32.0702059999999989</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"lng"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">34.7715839999999972</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"searchable"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Brener 1 , Tel Aviv, Israel"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"state"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"zipcode"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="nt">"title"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Cozy luxurious home in real CENTER!"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /listings</code></p>

<p>Returned fields are mapped by user&rsquo;s permissions.</p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>ids</td>
<td><code class="prettyprint">null</code></td>
<td>Limit results to these ids</td>
<td></td>
</tr>
<tr>
<td>nids</td>
<td><code class="prettyprint">null</code></td>
<td>Limit results to not include these ids</td>
<td></td>
</tr>
<tr>
<td>q</td>
<td><code class="prettyprint">null</code></td>
<td>Search query string. Searches in <code class="prettyprint">title</code>, <code class="prettyprint">internalNote</code>, <code class="prettyprint">address.full</code></td>
<td><code class="prettyprint">&quot;Cozy luxurious&quot;</code></td>
</tr>
<tr>
<td>city</td>
<td><code class="prettyprint">null</code></td>
<td>Limit results to city</td>
<td></td>
</tr>
<tr>
<td>active</td>
<td><code class="prettyprint">true</code></td>
<td>Limit results to active state. Boolean, <code class="prettyprint">true</code> for only active, <code class="prettyprint">false</code> for only inactive, don&rsquo;t include for all.</td>
<td></td>
</tr>
<tr>
<td>pmsActive</td>
<td><code class="prettyprint">null</code></td>
<td>Limit results to listings with the feature &ldquo;pms&rdquo; active. Boolean, <code class="prettyprint">true</code> for only active, <code class="prettyprint">false</code> for only inactive, don&rsquo;t include for all.</td>
<td></td>
</tr>
<tr>
<td>integrationId</td>
<td><code class="prettyprint">null</code></td>
<td>Limit results to specific integration</td>
<td><code class="prettyprint">&quot;531968414930a7f09b075800&quot;</code></td>
</tr>
<tr>
<td>listed</td>
<td><code class="prettyprint">null</code></td>
<td>Limit results to listed state. Boolean, <code class="prettyprint">true</code> for only listed, <code class="prettyprint">false</code> for only unlisted, don&rsquo;t include for all.</td>
<td></td>
</tr>
<tr>
<td>available</td>
<td><code class="prettyprint">null</code></td>
<td>Limit results to only available listings in specific dates</td>
<td>{checkIn: &#39;yyyy-mm-dd&rsquo;, checkOut: &#39;yyyy-mm-dd&rsquo;, minOccupancy: 3}</td>
</tr>
<tr>
<td>tags</td>
<td><code class="prettyprint">null</code></td>
<td>Limit results to listings with specific tags</td>
<td>[&#39;D1&rsquo;, &#39;D2&rsquo;]</td>
</tr>
<tr>
<td>fields</td>
<td><code class="prettyprint">null</code></td>
<td>Selection of fields, separated by space</td>
<td><code class="prettyprint">&quot;title address&quot;</code></td>
</tr>
<tr>
<td>sort</td>
<td><code class="prettyprint">&quot;title&quot;</code></td>
<td>Sorting</td>
<td><code class="prettyprint">&quot;title&quot;</code></td>
</tr>
<tr>
<td>limit</td>
<td>25</td>
<td>Pagination, max: 100</td>
<td><code class="prettyprint">25</code></td>
</tr>
<tr>
<td>skip</td>
<td>0</td>
<td>Pagination</td>
<td><code class="prettyprint">0</code></td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>Array of requested listings</p>

<h2 id="create-a-listing">Create a listing</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /listings</code></p>

<h3 id="body">Body</h3>

<p>No required fields.</p>

<p>Pms is automatically ON for this listing.</p>

<h3 id="response">Response</h3>

<p>The inserted object.</p>

<h2 id="retrieve-a-listing">Retrieve a listing</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /listings/:id</code></p>

<p>Returned fields are mapped by user&rsquo;s permissions.</p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>fields</td>
<td><code class="prettyprint">null</code></td>
<td>Selection of fields, separated by space</td>
<td><code class="prettyprint">&quot;title address&quot;</code></td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>Listing object</p>

<aside class="notice">Forbidden fields are omitted according to the user&rsquo;s permissions</aside>

<h2 id="update-a-listing">Update a listing</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT /listings/:id</code></p>

<h3 id="response">Response</h3>

<p>Retrieve the updated listing, selection of fields that were sent in body.</p>

<h2 id="add-new-integration-for-a-listing">Add new integration for a listing</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /listings/:id/integrations</code></p>

<p>Available fields: <code class="prettyprint">_id</code>, <code class="prettyprint">airbnb.id</code>, <code class="prettyprint">rentalsUnited.id</code>. Others ignored.</p>

<h3 id="response">Response</h3>

<p>Retrieve the updated listing, with the selection of only <code class="prettyprint">integrations</code> field.</p>

<h2 id="list-all-cities">List all cities</h2>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
    </span><span class="s2">"city A"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"city B"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"city C"</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /listings/cities</code></p>

<h3 id="response">Response</h3>

<p>Array of cities (strings).</p>

<h2 id="list-all-tags">List all tags</h2>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
    </span><span class="s2">"Tag A"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Tag B"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Tag C"</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /listings/tags</code></p>

<h3 id="response">Response</h3>

<p>Array of tags (strings).</p>

<h2 id="export-as-csv">Export as CSV</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /listings.csv</code></p>

<p><strong>Same as <code class="prettyprint">/listings</code> but results are returned as a downloadable csv file</strong></p>

<h2 id="send-results-in-email">Send results in email</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /listings.email</code></p>

<p><strong>Same as <code class="prettyprint">/listings</code> but results are sent as an email</strong></p>

<h3 id="body-parameters">Body Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>to</td>
<td><strong>Required</strong></td>
<td>Address of recipient</td>
<td><code class="prettyprint">koby@guesty.com</code></td>
</tr>
</tbody></table>

<h1 id="listing-39-s-calendar">Listing&rsquo;s calendar</h1>

<h2 id="the-calendar-day-object">The calendar day object</h2>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>date</td>
<td>String (Date)</td>
<td>Format: <code class="prettyprint">yyyy-mm-dd</code></td>
</tr>
<tr>
<td>accountId</td>
<td>String (ObjectId)</td>
<td>ref to Account</td>
</tr>
<tr>
<td>listingId</td>
<td>String (ObjectId)</td>
<td>ref to Listing</td>
</tr>
<tr>
<td>status</td>
<td>String (Enum)</td>
<td><code class="prettyprint">available</code>, <code class="prettyprint">unavailable</code>, <code class="prettyprint">reserved</code>, <code class="prettyprint">booked</code></td>
</tr>
<tr>
<td>note</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>price</td>
<td>Number</td>
<td>The price that that day coeinst</td>
</tr>
<tr>
<td>currency</td>
<td>String (Enum)</td>
<td>3 letter iso currency code</td>
</tr>
<tr>
<td>reservationId</td>
<td>String (ObjectId)</td>
<td>Linked reservation</td>
</tr>
<tr>
<td>originalPrice</td>
<td>Number</td>
<td>Used by pricing automation</td>
</tr>
<tr>
<td>ignoreAutoPricing</td>
<td>Boolean</td>
<td>Ignore this day in pricing automation</td>
</tr>
</tbody></table>

<h2 id="retrieve-single-calendar">Retrieve single calendar</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /listings/:id/calendar</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>from</td>
<td><strong>Required</strong></td>
<td>Return dates starting from this date. Format: <code class="prettyprint">yyyy-mm-dd</code>.</td>
<td><code class="prettyprint">&quot;2016-01-10&quot;</code></td>
</tr>
<tr>
<td>to</td>
<td><strong>Required</strong></td>
<td>Return dates ending at this date. Format: <code class="prettyprint">yyyy-mm-dd</code>.</td>
<td><code class="prettyprint">&quot;2016-01-11&quot;</code></td>
</tr>
<tr>
<td>fields</td>
<td><code class="prettyprint">null</code></td>
<td>Selection of fields, separated by space</td>
<td><code class="prettyprint">&quot;status&quot;</code></td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>Array of calendar day objects</p>

<h2 id="retrieve-multiple-calendars">Retrieve multiple calendars</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /listings/calendars</code></p>

<p>Returned fields are mapped by user&rsquo;s permissions.</p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>ids</td>
<td>first 10 listings</td>
<td>Array of listing ids to return, maximum of 15 listings.</td>
<td></td>
</tr>
<tr>
<td>from</td>
<td><strong>Required</strong></td>
<td>Return dates starting from this date. Format: <code class="prettyprint">yyyy-mm-dd</code>.</td>
<td><code class="prettyprint">&quot;2016-01-10&quot;</code></td>
</tr>
<tr>
<td>to</td>
<td><strong>Required</strong></td>
<td>Return dates ending at this date. Format: <code class="prettyprint">yyyy-mm-dd</code>.</td>
<td><code class="prettyprint">&quot;2016-01-11&quot;</code></td>
</tr>
<tr>
<td>fields</td>
<td><code class="prettyprint">null</code></td>
<td>Selection of fields, separated by space</td>
<td><code class="prettyprint">&quot;status&quot;</code></td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>Object of calendar ids, where each id is an array of day objects.</p>

<h2 id="update-calendars">Update calendars</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT /listings/calendars</code></p>

<p>Prices update needs &#39;listing.calendar.full&rsquo; permission</p>

<p>Available fields are mapped by user&rsquo;s permissions.</p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>listings</td>
<td><strong>Required</strong></td>
<td>Array of ids of listings to update, or a single id.</td>
<td>&ldquo;</td>
</tr>
<tr>
<td>from</td>
<td><strong>Required</strong></td>
<td>Update dates starting from this date. Format: <code class="prettyprint">yyyy-mm-dd</code>.</td>
<td><code class="prettyprint">&quot;2016-01-10&quot;</code></td>
</tr>
<tr>
<td>to</td>
<td><strong>Required</strong></td>
<td>Update dates ending at this date. Format: <code class="prettyprint">yyyy-mm-dd</code>.</td>
<td><code class="prettyprint">&quot;2016-01-11&quot;</code></td>
</tr>
<tr>
<td>status</td>
<td>&mdash;</td>
<td>New status, enum: <code class="prettyprint">available</code>, <code class="prettyprint">unavailable</code>.</td>
<td><code class="prettyprint">available</code></td>
</tr>
<tr>
<td>price</td>
<td>&mdash;</td>
<td>New price, in the listing&rsquo;s currency.</td>
<td><code class="prettyprint">100</code></td>
</tr>
<tr>
<td>note</td>
<td>&mdash;</td>
<td>Note to add to those dates.</td>
<td></td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p><code class="prettyprint">OK</code></p>

<h1 id="saved-replies">Saved replies</h1>

<h2 id="the-saved-reply-object">The saved reply object</h2>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>_id</td>
<td>ObjectId</td>
<td>Unique id</td>
</tr>
<tr>
<td>accountId</td>
<td>ObjectId</td>
<td>Owner account</td>
</tr>
<tr>
<td>listinsIds</td>
<td>[ObjectId]</td>
<td>Related listings</td>
</tr>
<tr>
<td>tags</td>
<td>[String]</td>
<td></td>
</tr>
<tr>
<td>folder</td>
<td>String</td>
<td>Group replies in a folder</td>
</tr>
<tr>
<td>question</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>answer</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>applyWhenNoBooking</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>applyWhenHasBooking</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>type</td>
<td>String (Enum)</td>
<td><code class="prettyprint">host</code>, <code class="prettyprint">guest</code>, <code class="prettyprint">contact</code>, <code class="prettyprint">review</code></td>
</tr>
<tr>
<td>language</td>
<td>String</td>
<td>2 letters ISO code</td>
</tr>
</tbody></table>

<h2 id="list-all-saved-replies">List all saved replies</h2>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
     </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
     </span><span class="nt">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w">
     </span><span class="nt">"skip"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
     </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">

        </span><span class="p">}</span><span class="w">
     </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /saved-replies</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>listingId</td>
<td><code class="prettyprint">null</code></td>
<td>Limit to a specific listing</td>
<td><code class="prettyprint">531968414930a7f09b075800</code></td>
</tr>
<tr>
<td>q</td>
<td><code class="prettyprint">null</code></td>
<td>Search query string. Searches in <code class="prettyprint">question</code>, <code class="prettyprint">folder</code></td>
<td></td>
</tr>
<tr>
<td>fields</td>
<td><code class="prettyprint">null</code></td>
<td>Selection of fields, separated by space</td>
<td><code class="prettyprint">createdAt</code></td>
</tr>
<tr>
<td>sort</td>
<td><code class="prettyprint">-createdAt</code></td>
<td>Field to sort by. Prepend <code class="prettyprint">-</code> for DESC.</td>
<td><code class="prettyprint">createdAt</code></td>
</tr>
<tr>
<td>limit</td>
<td>25</td>
<td>Pagination, max: 100</td>
<td><code class="prettyprint">25</code></td>
</tr>
<tr>
<td>skip</td>
<td>0</td>
<td>Pagination</td>
<td><code class="prettyprint">0</code></td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>Array of saved replies objects</p>

<h2 id="create-a-saved-reply">Create a saved reply</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /saved-replies</code></p>

<h3 id="body">Body</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td>question</td>
<td><strong>Required</strong></td>
</tr>
<tr>
<td>answer</td>
<td><strong>Required</strong></td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>The inserted object.</p>

<h2 id="retrieve-a-saved-reply">Retrieve a saved reply</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /saved-replies/:id</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>fields</td>
<td><code class="prettyprint">null</code></td>
<td>Selection of fields, separated by space</td>
<td>&rdquo;</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>The object</p>

<h2 id="update-a-saved-reply">Update a saved reply</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT /saved-replies/:id</code></p>

<h3 id="body">Body</h3>

<p>All saved reply fields apart from <code class="prettyprint">accountId</code> are editable</p>

<h3 id="response">Response</h3>

<p>The updated object.</p>

<h2 id="delete-a-saved-reply">Delete a saved reply</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE /saved-replies/:id</code></p>

<h3 id="response">Response</h3>

<p><code class="prettyprint">OK</code></p>

<h1 id="hooks">Hooks</h1>

<h2 id="the-hook-object">The hook object</h2>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>_id</td>
<td>String (ObjectId)</td>
<td>Unique id</td>
</tr>
<tr>
<td>accountId</td>
<td>String (ObjectId)</td>
<td></td>
</tr>
<tr>
<td>listingIds</td>
<td>[String (ObjectId)]</td>
<td>Related listings</td>
</tr>
<tr>
<td>excludeListingIds</td>
<td>[String (ObjectId)]</td>
<td>Excluded listings</td>
</tr>
<tr>
<td>enabled</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>filters</td>
<td>Array of filters</td>
<td></td>
</tr>
<tr>
<td>action</td>
<td>String (Enum)</td>
<td><code class="prettyprint">send email</code>, <code class="prettyprint">send sms</code>, <code class="prettyprint">send platform message</code>, <code class="prettyprint">receptionists dashboard</code>, <code class="prettyprint">internal notes</code></td>
</tr>
<tr>
<td>target</td>
<td>String (Enum)</td>
<td><code class="prettyprint">user</code>, <code class="prettyprint">guest</code>, <code class="prettyprint">contact</code></td>
</tr>
<tr>
<td>when</td>
<td>String</td>
<td>The delay from the trigger event</td>
</tr>
<tr>
<td>replyTo</td>
<td>String</td>
<td>For email hooks - set a replyTo that differs from the sender</td>
</tr>
<tr>
<td>trigger</td>
<td>String(Enum)</td>
<td><code class="prettyprint">reservation confirmed</code>, <code class="prettyprint">reservation altered</code>, <code class="prettyprint">reservation canceled</code>, <code class="prettyprint">check in</code>, <code class="prettyprint">check out</code></td>
</tr>
<tr>
<td>humanRepresentation</td>
<td>String</td>
<td>Textual representation</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>atTime</td>
<td>String</td>
<td>Specific hour to run this hook. Format <code class="prettyprint">HH:mm</code> (24 hours)</td>
</tr>
</tbody></table>

<h3 id="to-object"><code class="prettyprint">to</code> object</h3>

<p>userId | String (ObjectId) | User when <code class="prettyprint">target</code> is <code class="prettyprint">&quot;user&quot;</code>
contactId | String (ObjectId) | Contact when <code class="prettyprint">target</code> is <code class="prettyprint">&quot;contact&quot;</code></p>

<h3 id="email-object"><code class="prettyprint">email</code> object</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>subject</td>
<td>String</td>
<td>Subject line for the email</td>
</tr>
<tr>
<td>body</td>
<td>String</td>
<td>Body in html format</td>
</tr>
<tr>
<td>attachments</td>
<td></td>
<td></td>
</tr>
<tr>
<td>cc</td>
<td>Array (String)</td>
<td>Array of emails to send this email in cc</td>
</tr>
<tr>
<td>bcc</td>
<td>Array (String)</td>
<td>Array of emails to send this email in bcc</td>
</tr>
</tbody></table>

<h3 id="sms-object"><code class="prettyprint">sms</code> object</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>body</td>
<td>String</td>
<td>Text of message, plain format</td>
</tr>
</tbody></table>

<h3 id="platform-object"><code class="prettyprint">platform</code> object</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>body</td>
<td>String</td>
<td>Text of message, plain format</td>
</tr>
</tbody></table>

<h3 id="task-object"><code class="prettyprint">task</code> object</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>body</td>
<td>String</td>
<td>Text of task, plain format</td>
</tr>
<tr>
<td>priority</td>
<td>String (Enum)</td>
<td><code class="prettyprint">high</code>, <code class="prettyprint">medium</code>, <code class="prettyprint">low</code></td>
</tr>
</tbody></table>

<h2 id="list-all-hooks">List all hooks</h2>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
     </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
     </span><span class="nt">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w">
     </span><span class="nt">"skip"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
     </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">

        </span><span class="p">}</span><span class="w">
     </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /hooks</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>listingId</td>
<td><code class="prettyprint">null</code></td>
<td>Limit to a specific listing</td>
<td><code class="prettyprint">531968414930a7f09b075800</code></td>
</tr>
<tr>
<td>fields</td>
<td><code class="prettyprint">null</code></td>
<td>Selection of fields, separated by space</td>
<td><code class="prettyprint">createdAt</code></td>
</tr>
<tr>
<td>sort</td>
<td><code class="prettyprint">-createdAt</code></td>
<td>Field to sort by. Prepend <code class="prettyprint">-</code> for DESC.</td>
<td><code class="prettyprint">createdAt</code></td>
</tr>
<tr>
<td>limit</td>
<td>25</td>
<td>Pagination, max: 100</td>
<td><code class="prettyprint">25</code></td>
</tr>
<tr>
<td>skip</td>
<td>0</td>
<td>Pagination</td>
<td><code class="prettyprint">0</code></td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>Hook objects</p>

<h2 id="create-a-hook">Create a hook</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /hooks</code></p>

<h3 id="body">Body</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td>enabled</td>
<td>true</td>
</tr>
<tr>
<td>action</td>
<td><strong>Required</strong></td>
</tr>
<tr>
<td>target</td>
<td><strong>Required</strong></td>
</tr>
<tr>
<td>when</td>
<td><strong>Required</strong></td>
</tr>
<tr>
<td>trigger</td>
<td><strong>Required</strong></td>
</tr>
<tr>
<td>name</td>
<td><strong>Required</strong></td>
</tr>
<tr>
<td>to</td>
<td><strong>Required</strong></td>
</tr>
<tr>
<td>email</td>
<td><strong>Required</strong> for <code class="prettyprint">send email</code> action</td>
</tr>
<tr>
<td>sms</td>
<td><strong>Required</strong> for <code class="prettyprint">send sms</code> action</td>
</tr>
<tr>
<td>platform</td>
<td><strong>Required</strong> for <code class="prettyprint">send platform message</code> action</td>
</tr>
<tr>
<td>task</td>
<td><strong>Required</strong> for <code class="prettyprint">receptionists dashboard</code>, <code class="prettyprint">post bookings dashboard</code> actions</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>The inserted object.</p>

<h2 id="retrieve-a-hook">Retrieve a hook</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /hooks/:id</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>fields</td>
<td><code class="prettyprint">null</code></td>
<td>Selection of fields, separated by space</td>
<td>&ldquo;</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>Hook object.</p>

<h2 id="update-a-hook">Update a hook</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT /hooks/:id</code></p>

<h3 id="response">Response</h3>

<p>The updated object.</p>

<h2 id="delete-a-hook">Delete a hook</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE /hooks/:id</code></p>

<h3 id="response">Response</h3>

<p><code class="prettyprint">OK</code></p>

<!-- # Calendar smart rules

## The calendar smart rule object

Attribute | Type | Description
--------- | ------- | -----------
_id | String | Unique id


## List all rules


```json
{
     "count": 3,
     "limit": 25,
     "skip": 0,
     "results": [
        {

        }
     ]
}
```

### HTTP Request
`GET /calendar-rules`

### Query Parameters
Parameter | Default | Description | Example
--------- | ------- | ----------- | -------
listingId | `null` | Limit to a specific listing | `531968414930a7f09b075800`
fields | `null` | Selection of fields, separated by space | `amount createdAt`
sort | `-createdAt` | Field to sort by. Prepend `-` for DESC. | `createdAt`
limit | 25 | Pagination, max: 100 | `25`
skip | 0 | Pagination | `0`

### Response
Calendar rule objects


## Retrieve a rule

### HTTP Request
`GET /calendar-rules/:id`

### Authorization
Only accessible to *Admin* or *User* tokens.

#### *User* tokens
Can only retrieve objects owned by connected user. 403 otherwise.

### Query Parameters
Parameter | Default | Description | Example
--------- | ------- | ----------- | -------
fields | `null` | Selection of fields, separated by space | ``


### Response
Calendar rule object.



## Update a rule

### HTTP Request
`PUT /calendar-rules/:id`

### Authorization
Only accessible to *Admin* or *User* tokens.

#### *User* tokens
Can only update objects owned by connected user. 403 otherwise.

### Body
Parameter | Default | Description | Example
--------- | ------- | ----------- | -------

### Response
The updated calendar rule object.


## Delete a rule

### HTTP Request
`DELETE /calendar-rules/:id`

### Authorization
Only accessible to *Admin* or *User* tokens.

#### *User* tokens
Can only delete objects owned by connected user. 403 otherwise.

### Response
`OK` -->

<h1 id="reservations">Reservations</h1>

<h2 id="the-reservation-object">The reservation object</h2>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"5655b3dec03ca814016a5038"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"createdAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-12-17T08:33:44.510Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"integration"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"platform"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"airbnb"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"53eb27386b51b257846cdd11"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"airbnb"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"listingId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1148991</span><span class="p">,</span><span class="w">
            </span><span class="nt">"guestId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">3648962</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"status"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"inquiry"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"guestId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"5655b3debf1fab1507921c33"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"listingId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"5319674d4930a7f09b075696"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"checkIn"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-11-21T22:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"checkOut"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-11-26T22:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"checkInDateLocalized"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-11-22"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"checkOutDateLocalized"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-11-27"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"guestsCount"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"money"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"ourCommission"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"ownerRevenue"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"userRevenue"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"userRevenueFormula"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"host_payout"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"netIncome"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"netIncomeFormula"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"fare_accommodation + fare_cleaning"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"commission"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"commissionFormula"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"net_income*0.2"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"commissionIncTax"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"commissionTax"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"commissionTaxPercentage"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"accountId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"5319674d4930a7f09b075695"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"source"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Airbnb"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"lastUpdatedAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-19T19:50:54.292Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>_id</td>
<td>String</td>
<td>Unique id</td>
</tr>
<tr>
<td>accountId</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>account</td>
<td><code class="prettyprint">account</code> object</td>
<td>(see section)</td>
</tr>
<tr>
<td>listingId</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>listing</td>
<td><code class="prettyprint">listing</code> object</td>
<td>(see section)</td>
</tr>
<tr>
<td>createdAt</td>
<td>Date</td>
<td></td>
</tr>
<tr>
<td>closedAt</td>
<td>Date</td>
<td></td>
</tr>
<tr>
<td>confirmedAt</td>
<td>Date</td>
<td></td>
</tr>
<tr>
<td>alteredAt</td>
<td>Date</td>
<td></td>
</tr>
<tr>
<td>canceledAt</td>
<td>Date</td>
<td></td>
</tr>
<tr>
<td>canceledBy</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>importedAt</td>
<td>Date</td>
<td></td>
</tr>
<tr>
<td>integration</td>
<td><code class="prettyprint">integration</code> object</td>
<td>(see below)</td>
</tr>
<tr>
<td>status</td>
<td>Enum</td>
<td><code class="prettyprint">inquiry</code>, <code class="prettyprint">declined</code>, <code class="prettyprint">expired</code>, <code class="prettyprint">canceled</code>, <code class="prettyprint">closed</code>, <code class="prettyprint">reserved</code>, <code class="prettyprint">confirmed</code>, <code class="prettyprint">checked_in</code>, <code class="prettyprint">checked_out</code>, <code class="prettyprint">awaiting_payment</code></td>
</tr>
<tr>
<td>confirmationCode</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>checkIn</td>
<td>Date</td>
<td></td>
</tr>
<tr>
<td>checkInDateLocalized</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>checkOut</td>
<td>Date</td>
<td></td>
</tr>
<tr>
<td>checkOutDateLocalized</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>plannedArrival</td>
<td>String</td>
<td>Planned time of arrival: <code class="prettyprint">HH:mm</code></td>
</tr>
<tr>
<td>plannedDeparture</td>
<td>String</td>
<td>Planned time of departure: <code class="prettyprint">HH:mm</code></td>
</tr>
<tr>
<td>nightsCount</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>daysInAdvance</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>guestsCount</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>cancellationPolicy</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>instantBook</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>guestId</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>guest</td>
<td><code class="prettyprint">guest</code> object</td>
<td>(see section)</td>
</tr>
<tr>
<td>isReturningGuest</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>money</td>
<td><code class="prettyprint">money</code> object</td>
<td>(see below)</td>
</tr>
<tr>
<td>review</td>
<td><code class="prettyprint">review</code> object</td>
<td>(see below)</td>
</tr>
<tr>
<td>postBooking</td>
<td><code class="prettyprint">postBooking</code> object</td>
<td>(see below)</td>
</tr>
<tr>
<td>notes</td>
<td><code class="prettyprint">notes</code> object</td>
<td>(see below)</td>
</tr>
<tr>
<td>reservedAt</td>
<td>Date</td>
<td></td>
</tr>
<tr>
<td>reservedExpiresAt</td>
<td>Date</td>
<td></td>
</tr>
<tr>
<td>source</td>
<td>String</td>
<td>The source of the reservation</td>
</tr>
<tr>
<td>customFields</td>
<td>Array (customFields Object)</td>
<td>(see below)</td>
</tr>
</tbody></table>

<!-- inquiredInAdvance      |                   |
confirmedInAdvance          |                   |
timeToCloseInMinutes        |                   |
timeToCloseInDays           |                   | -->

<h3 id="integration-object">integration object</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>_id</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>platform</td>
<td>Enum</td>
<td><code class="prettyprint">airbnb</code> or <code class="prettyprint">rentalsUnited</code></td>
</tr>
<tr>
<td>airbnb</td>
<td>object</td>
<td>Details related to Airbnb (id, listingId, guestId)</td>
</tr>
<tr>
<td>rentalsUnited</td>
<td>object</td>
<td>Details related to RU (id)</td>
</tr>
<tr>
<td>object</td>
<td><code class="prettyprint">integration</code> object</td>
<td>(see section)</td>
</tr>
</tbody></table>

<h3 id="money-object">money object</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>currency</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>fareAccommodation</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>fareCleaning</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>subTotalPrice</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>guestServiceFee</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>guestTaxes</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>guestTotalPrice</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>alreadyPaid</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>hostServiceFee</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>hostTaxes</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>hostPayout</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>hostPayoutUsd</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>hostOriginalPayout</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>netIncomeFormula</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>netIncome</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>commissionFormula</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>commission</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>commissionTaxPercentage</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>commissionTax</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>commissionIncTax</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>ownerRevenue</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>costs</td>
<td>Array (cost Object)</td>
<td>(see below)</td>
</tr>
<tr>
<td>payments</td>
<td>Array (payments Object)</td>
<td>(see below)</td>
</tr>
<tr>
<td>ourCommission</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>ourFee</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>ourFeeUsd</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>ourFeeMinimum</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>isMinimumFee</td>
<td>Boolean</td>
<td></td>
</tr>
</tbody></table>

<h3 id="cost-object">cost object</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>title</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>amount</td>
<td>String</td>
<td></td>
</tr>
</tbody></table>

<h3 id="payment-object">payment object</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>paymentSchedulingId</td>
<td>ObjectId</td>
<td>ref to account.pms.paymentProcessingFeature.defaultPaymentScheduling._id</td>
</tr>
<tr>
<td>amount</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>shouldBePaidAt</td>
<td>Date</td>
<td></td>
</tr>
<tr>
<td>paidAt</td>
<td>Date</td>
<td></td>
</tr>
<tr>
<td>method</td>
<td>String (Enum)</td>
<td><code class="prettyprint">stripe</code>, <code class="prettyprint">cash</code></td>
</tr>
<tr>
<td>note</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>stripePaymentMethodToken</td>
<td>String</td>
<td>Credit card token</td>
</tr>
<tr>
<td>stripe</td>
<td>Object</td>
<td>Stripe object</td>
</tr>
<tr>
<td>failedAt</td>
<td>Date</td>
<td></td>
</tr>
<tr>
<td>error</td>
<td>String</td>
<td></td>
</tr>
</tbody></table>

<h3 id="review-object">review object</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>shouldReview</td>
<td>Boolean</td>
<td><strong>deprecated</strong></td>
</tr>
<tr>
<td>hostReview</td>
<td></td>
<td></td>
</tr>
<tr>
<td>guestReview</td>
<td></td>
<td></td>
</tr>
<tr>
<td>hasGuestReviewed</td>
<td></td>
<td></td>
</tr>
<tr>
<td>expiresAt</td>
<td></td>
<td></td>
</tr>
</tbody></table>

<h3 id="postbooking-object">postBooking object</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>colorMain</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>colorHost</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>colorGuest</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>colorCleaning</td>
<td>String</td>
<td></td>
</tr>
</tbody></table>

<h3 id="notes-object">notes object</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>cleaning</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>guest</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>other</td>
<td>String</td>
<td></td>
</tr>
</tbody></table>

<h3 id="customfields-object">customFields object</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>fieldId</td>
<td>ObjectId</td>
<td>Ref to the definition (account.customFields._id)</td>
</tr>
<tr>
<td>value</td>
<td>Mixed</td>
<td>Type is according to the definition</td>
</tr>
</tbody></table>

<h2 id="create-a-reservation">Create a reservation</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /reservations</code></p>

<p>Available fields are mapped by user&rsquo;s permissions.</p>

<h3 id="body">Body</h3>

<p>There are no required fields.</p>

<p>If listing is given and prices are not, price is calculated from the calendar.</p>

<p>If <code class="prettyprint">status</code> is <code class="prettyprint">reserved</code> then listingId, checkIn, checkOut are required.
If <code class="prettyprint">status</code> is <code class="prettyprint">confirmed</code> then guestId is also required.</p>

<p>Validations:
System will make sure reservation is according to terms (min, max nights, any other terms), and decline otherwise (401), unless flag (ignoreTerms).
System will make sure calendar is available, and decline otherwise (401), unless flag (ignoreCalendar).</p>

<h3 id="response">Response</h3>

<p>The inserted object.</p>

<h2 id="retrieve-a-reservation">Retrieve a reservation</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /reservations/:id</code></p>

<p>Returned fields are mapped by user&rsquo;s permissions.</p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>fields</td>
<td><code class="prettyprint">null</code></td>
<td>Selection of fields, separated by space. When <code class="prettyprint">null</code> retrieve all object.</td>
<td><code class="prettyprint">checkIn checkOut</code></td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>Reservation object</p>

<aside class="notice">Forbidden fields are omitted according to the user&rsquo;s permissions</aside>

<h2 id="update-a-reservation">Update a reservation</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT /reservations/:id</code></p>

<p>Available fields are mapped by user&rsquo;s permissions.</p>

<p>Validations:
System will make sure reservation is according to terms (min, max nights, any other terms), and decline otherwise (401), unless flag (ignoreTerms).
System will make sure calendar is available, and decline otherwise (401), unless flag (ignoreCalendar).</p>

<h3 id="response">Response</h3>

<p>Retrieve the updated reservation, selection of fields that were sent in body.</p>

<h2 id="add-a-cost-for-reservation">Add a cost for reservation</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /reservations/:id/costs</code></p>

<h3 id="body">Body</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>title</td>
<td><strong>Required</strong></td>
<td>Cost title</td>
<td>Wine</td>
</tr>
<tr>
<td>amount</td>
<td><strong>Required</strong></td>
<td>The amount in reservation&rsquo;s currency</td>
<td></td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>Retrieve the updated reservation, selection of money.costs field.</p>

<h2 id="update-an-existing-cost">Update an existing cost</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT /reservations/:id/costs</code></p>

<h3 id="body">Body</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>costId</td>
<td><strong>Required</strong></td>
<td>the _id of the cost to update</td>
<td></td>
</tr>
<tr>
<td>title</td>
<td></td>
<td>Cost title</td>
<td>Wine</td>
</tr>
<tr>
<td>amount</td>
<td></td>
<td>The amount in reservation&rsquo;s currency</td>
<td></td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>Retrieve the updated reservation, selection of money.costs field.</p>

<h2 id="delete-an-existing-cost">Delete an existing cost</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE /reservations/:id/costs</code></p>

<h3 id="body">Body</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>costId</td>
<td><strong>Required</strong></td>
<td>the _id of the cost to delete</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>Retrieve the updated reservation, selection of money.costs field.</p>

<h2 id="add-a-payment-for-reservation">Add a payment for reservation</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /reservations/:id/payments</code></p>

<h3 id="body">Body</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>method</td>
<td><strong>Required</strong></td>
<td>stripe/cash</td>
</tr>
<tr>
<td>amount</td>
<td></td>
<td></td>
</tr>
<tr>
<td>shouldBePaidAt</td>
<td></td>
<td></td>
</tr>
<tr>
<td>paidAt</td>
<td></td>
<td></td>
</tr>
<tr>
<td>note</td>
<td></td>
<td></td>
</tr>
<tr>
<td>stripePaymentMethodToken</td>
<td></td>
<td><strong>Required</strong> if method is &quot;stripe&rdquo;</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>Retrieve the updated reservation, selection of money.payments field.</p>

<h2 id="update-an-existing-payment">Update an existing payment</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT /reservations/:id/payments</code></p>

<h3 id="body">Body</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>paymentId</td>
<td><strong>Required</strong></td>
<td>the _id of the payment to update</td>
</tr>
<tr>
<td>method</td>
<td></td>
<td>stripe/cash</td>
</tr>
<tr>
<td>amount</td>
<td></td>
<td></td>
</tr>
<tr>
<td>shouldBePaidAt</td>
<td></td>
<td></td>
</tr>
<tr>
<td>paidAt</td>
<td></td>
<td></td>
</tr>
<tr>
<td>note</td>
<td></td>
<td></td>
</tr>
<tr>
<td>stripePaymentMethodToken</td>
<td></td>
<td></td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>Retrieve the updated reservation, selection of money.payments field.</p>

<h2 id="delete-an-existing-payment">Delete an existing payment</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE /reservations/:id/payments</code></p>

<h3 id="body">Body</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>paymentId</td>
<td><strong>Required</strong></td>
<td>the _id of the payment to delete</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>Retrieve the updated reservation, selection of money.payments field.</p>

<h2 id="search-reservations">Search reservations</h2>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
     </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
     </span><span class="nt">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w">
     </span><span class="nt">"skip"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
     </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"5655b3dec03ca814016a5038"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"createdAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-12-17T08:33:44.510Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"integration"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"platform"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"airbnb"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"53eb27386b51b257846cdd11"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"airbnb"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"listingId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1148991</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"guestId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">3648962</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"status"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"inquiry"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"guestId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"5655b3debf1fab1507921c33"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"listingId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"5319674d4930a7f09b075696"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"checkIn"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-11-21T22:00:00.000Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"checkOut"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-11-26T22:00:00.000Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"checkInDateLocalized"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-11-22"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"checkOutDateLocalized"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-11-27"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"guestsCount"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nt">"money"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"ourCommission"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nt">"ownerRevenue"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
                </span><span class="nt">"userRevenue"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nt">"userRevenueFormula"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"host_payout"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"netIncome"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nt">"netIncomeFormula"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"fare_accommodation + fare_cleaning"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"commission"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nt">"commissionFormula"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"net_income*0.2"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"commissionIncTax"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nt">"commissionTax"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nt">"commissionTaxPercentage"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"accountId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"5319674d4930a7f09b075695"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"source"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Airbnb"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"lastUpdatedAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-19T19:50:54.292Z"</span><span class="w">
        </span><span class="p">}</span><span class="w">
     </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /reservations</code></p>

<p>Returned fields are mapped by user&rsquo;s permissions.</p>

<h4 id="report-tokens"><em>Report</em> tokens</h4>

<p><code class="prettyprint">reportId</code> is taken from token and not from request. <code class="prettyprint">sort</code>, <code class="prettyprint">limit</code> and <code class="prettyprint">skip</code> parameters work, <strong>all others are ignored.</strong></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>reportId</td>
<td><code class="prettyprint">null</code></td>
<td>Pull a specific view (view is a saved settings of filters, fields, sort)</td>
<td><code class="prettyprint">556d95083c59ae58e3fdd8f4</code></td>
</tr>
<tr>
<td>filters</td>
<td><code class="prettyprint">[{field:&#39;status&#39;, operator:&#39;$in&#39;, value:[&#39;confirmed&#39;]},{field:&#39;checkIn&#39;, operator:&#39;$gt&#39;, context:&#39;now&#39;, value:0}]</code></td>
<td>Array of filters to query by (See below)</td>
<td>See default</td>
</tr>
<tr>
<td>fields</td>
<td><code class="prettyprint">checkIn checkOut confirmationCode guest.fullname listing.title</code></td>
<td>Selection of fields, separated by space</td>
<td>See default</td>
</tr>
<tr>
<td>sort</td>
<td><code class="prettyprint">checkIn</code></td>
<td>The field to sort by. Preppend <code class="prettyprint">-</code> for DESC.</td>
<td></td>
</tr>
<tr>
<td>limit</td>
<td><code class="prettyprint">25</code></td>
<td>Pagination</td>
<td><code class="prettyprint">25</code></td>
</tr>
<tr>
<td>skip</td>
<td><code class="prettyprint">0</code></td>
<td>Pagination</td>
<td><code class="prettyprint">0</code></td>
</tr>
</tbody></table>

<h3 id="filters">Filters</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"checkIn"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"operator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"$gt"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"context"</span><span class="p">:</span><span class="w"> </span><span class="s2">"now"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>field</td>
<td><strong>Required</strong></td>
<td>Subject of the filter</td>
<td></td>
</tr>
<tr>
<td>operator</td>
<td><strong>Required</strong></td>
<td>Enhanced MongoDB comparison operator: $eq, $not, $contains, $notcontains, $gt, $lt, $between</td>
<td></td>
</tr>
<tr>
<td>value</td>
<td><strong>Required</strong></td>
<td>Value to filter by.</td>
<td></td>
</tr>
<tr>
<td>context</td>
<td><code class="prettyprint">null</code></td>
<td>Optional preprocessing. Options are <code class="prettyprint">now</code>, <code class="prettyprint">createdAt</code>, <code class="prettyprint">confirmedAt</code>, <code class="prettyprint">canceledAt</code>, <code class="prettyprint">alteredAt</code>. When given, the date in value is relative to the context.</td>
<td></td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>Reservation objects</p>

<h2 id="export-as-csv">Export as CSV</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /reservations.csv</code></p>

<p><strong>Same as <code class="prettyprint">/reservations</code> but results are returned as a downloadable csv file</strong></p>

<h2 id="send-results-in-email">Send results in email</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /reservations.email</code></p>

<p><strong>Same as <code class="prettyprint">/reservations</code> but results are sent as an email</strong></p>

<h3 id="body-parameters">Body Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>to</td>
<td><strong>Required</strong></td>
<td>Address of recipient</td>
<td><code class="prettyprint">koby@guesty.com</code></td>
</tr>
</tbody></table>

<h1 id="views">Views</h1>

<h2 id="view-object">View object</h2>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"556d95073c59ae58e35558f2"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"section"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"reservations"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fields"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"checkIn checkOut confirmationCode listing guest"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"sort"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"checkIn"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"title"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Upcoming Bookings"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"createdAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-05-31T15:52:35.379Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"filters"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"operator"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"$gt"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"field"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"checkOut"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"context"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"now"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"confirmed"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"operator"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"$eq"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"field"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"status"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>_id</td>
<td>String</td>
<td>Unique id</td>
</tr>
<tr>
<td>accountId</td>
<td>String</td>
<td>Id of the user owning this view</td>
</tr>
<tr>
<td>title</td>
<td>String</td>
<td>Title for the view</td>
</tr>
<tr>
<td>section</td>
<td>String (Enum)</td>
<td><code class="prettyprint">reservations</code>, <code class="prettyprint">listings</code>, <code class="prettyprint">tasks</code></td>
</tr>
<tr>
<td>filters</td>
<td>Array (filter Object)</td>
<td>(below is an example for reservations view)</td>
</tr>
<tr>
<td>fields</td>
<td>String</td>
<td>Selection of fields, separated by space</td>
</tr>
<tr>
<td>sort</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>createdAt</td>
<td>Date</td>
<td></td>
</tr>
<tr>
<td>updatedAt</td>
<td>Date</td>
<td></td>
</tr>
<tr>
<td>scheduledEmails</td>
<td>Array (scheduledEmail Object)</td>
<td>(see below)</td>
</tr>
<tr>
<td>shares</td>
<td></td>
<td></td>
</tr>
</tbody></table>

<h3 id="filters">Filters</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"checkIn"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"operator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"$gt"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"context"</span><span class="p">:</span><span class="w"> </span><span class="s2">"now"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>field</td>
<td><strong>Required</strong></td>
<td>Subject of the filter</td>
<td></td>
</tr>
<tr>
<td>operator</td>
<td><strong>Required</strong></td>
<td>Enhanced MongoDB comparison operator: $eq, $not, $contains, $notcontains, $gt, $lt, $between</td>
<td></td>
</tr>
<tr>
<td>value</td>
<td><strong>Required</strong></td>
<td>Value to filter by.</td>
<td></td>
</tr>
<tr>
<td>context</td>
<td><code class="prettyprint">null</code></td>
<td>Optional preprocessing. Options are <code class="prettyprint">now</code>, <code class="prettyprint">createdAt</code>, <code class="prettyprint">confirmedAt</code>, <code class="prettyprint">canceledAt</code>, <code class="prettyprint">alteredAt</code>. When given, the date in value is relative to the context.</td>
<td></td>
</tr>
</tbody></table>

<h3 id="scheduledemails">scheduledEmails</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>days</td>
<td>[Number]</td>
<td>7 bits</td>
<td>0100000 (send on monday)</td>
</tr>
<tr>
<td>recipient</td>
<td>String</td>
<td>Emails separated by comma</td>
<td></td>
</tr>
<tr>
<td>hour</td>
<td>Number</td>
<td>when the report should be sent</td>
<td></td>
</tr>
</tbody></table>

<h2 id="list-all-views">List all views</h2>
<pre class="highlight json"><code><span class="w">    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w">
        </span><span class="nt">"skip"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"556d95073c59ae58e35558f2"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"section"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"reservations"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"fields"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"checkIn checkOut confirmationCode listing guest"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"sort"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"checkIn"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"title"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Upcoming Bookings"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"createdAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-05-31T15:52:35.379Z"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"filters"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"operator"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"$gt"</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"field"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"checkOut"</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"context"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"now"</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"confirmed"</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"operator"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"$eq"</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"field"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"status"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /views</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>q</td>
<td><code class="prettyprint">null</code></td>
<td>Search query string. Searches in <code class="prettyprint">title</code></td>
<td><code class="prettyprint">&quot;Cleanings report&quot;</code></td>
</tr>
<tr>
<td>fields</td>
<td><code class="prettyprint">null</code></td>
<td>Selection of fields, separated by space. When <code class="prettyprint">null</code> retrieves all object.</td>
<td><code class="prettyprint">&quot;title&quot;</code></td>
</tr>
<tr>
<td>limit</td>
<td>25</td>
<td>Pagination, max: 100</td>
<td><code class="prettyprint">25</code></td>
</tr>
<tr>
<td>skip</td>
<td>0</td>
<td>Pagination</td>
<td><code class="prettyprint">0</code></td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>Views objects</p>

<h2 id="create-a-view">Create a view</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /views</code></p>

<h3 id="body">Body</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td>title</td>
<td><strong>Required</strong></td>
</tr>
<tr>
<td>section</td>
<td><strong>Required</strong></td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>The inserted object.</p>

<h2 id="retrieve-a-view">Retrieve a view</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /views/:id</code></p>

<h4 id="report-tokens"><em>Report</em> tokens</h4>

<p>Can only retrieve objects owned by connected token. 403 otherwise.</p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>fields</td>
<td><code class="prettyprint">null</code></td>
<td>Selection of fields, separated by space</td>
<td><code class="prettyprint">&quot;title&quot;</code></td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>View object</p>

<h2 id="update-a-view">Update a view</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT /views/:id</code></p>

<h3 id="body">Body</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>title</td>
<td><strong>Required</strong></td>
<td></td>
</tr>
<tr>
<td>section</td>
<td><strong>Required</strong></td>
<td></td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>Retrieve the updated view, selection of updated fields.</p>

<h2 id="delete-a-view">Delete a view</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE /views/:id</code></p>

<h3 id="response">Response</h3>

<p><code class="prettyprint">OK</code></p>

<h1 id="guests">Guests</h1>

<h2 id="the-guest-object">The guest object</h2>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"58243555fb61770400aede31"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fullName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Koby Soto"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"lastName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Soto"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"firstName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Koby"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"accountId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"55b9f9b53935550e004b6c5d"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"hasVerifiedId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"hometown"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"languages"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nt">"paymentMethods"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nt">"communicationMethods"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"airbnb"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"airbnb"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">8555466</span><span class="p">,</span><span class="w">
        </span><span class="nt">"url"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.airbnb.com/users/show/8555466"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"firstName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Koby"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"lastName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Soto"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"fullName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Koby Soto"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"phones"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nt">"emails"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nt">"pictures"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nt">"verifications"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"Email address"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Phone number"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Personal info"</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>_id</td>
<td>String</td>
<td>Unique id</td>
</tr>
<tr>
<td>accountId</td>
<td>String</td>
<td>Id of owning account</td>
</tr>
<tr>
<td>firstName</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>lastName</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>fullName</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>company</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>hometown</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>hasVerifiedId</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>verifications</td>
<td>[String]</td>
<td>List of verifications</td>
</tr>
<tr>
<td>pictures</td>
<td>[Picture]</td>
<td>List of pictures</td>
</tr>
<tr>
<td>email</td>
<td>String</td>
<td>Main use email address</td>
</tr>
<tr>
<td>emails</td>
<td>[String]</td>
<td>List of emails</td>
</tr>
<tr>
<td>phone</td>
<td>String</td>
<td>Main use phone number</td>
</tr>
<tr>
<td>phones</td>
<td>[String]</td>
<td>List of phones</td>
</tr>
<tr>
<td>confirmed</td>
<td>Boolean</td>
<td>True if the guest has confirmed bookings</td>
</tr>
<tr>
<td>languages</td>
<td>[String]</td>
<td>List of languages the guest knows</td>
</tr>
<tr>
<td>communicationMethods</td>
<td>[Enum]</td>
<td><code class="prettyprint">airbnb</code>, <code class="prettyprint">email</code>, <code class="prettyprint">sms</code></td>
</tr>
<tr>
<td>paymentMethods</td>
<td>Array of paymentMethod object</td>
<td>available payment methods</td>
</tr>
<tr>
<td>airbnbId</td>
<td>String</td>
<td>Id of user on Airbnb</td>
</tr>
<tr>
<td>airbnbUrl</td>
<td>String</td>
<td>Url of the user page on Airbnb</td>
</tr>
</tbody></table>

<h3 id="paymentmethod">paymentMethod</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>method</td>
<td>String</td>
<td>Payment processing method</td>
<td><code class="prettyprint">stripe</code></td>
</tr>
<tr>
<td>stripe</td>
<td>Object</td>
<td>properties: token</td>
<td></td>
</tr>
<tr>
<td>card</td>
<td>Object</td>
<td>properties: brand, last4, expMonth, expYear</td>
<td></td>
</tr>
<tr>
<td>createdAt</td>
<td>Date</td>
<td></td>
<td></td>
</tr>
</tbody></table>

<h2 id="list-all-guests">List all guests</h2>
<pre class="highlight json"><code><span class="w">    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w">
        </span><span class="nt">"skip"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"58243555fb61770400aede31"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"fullName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Koby Soto"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"lastName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Soto"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"firstName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Koby"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"accountId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"55b9f9b53935550e004b6c5d"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"hasVerifiedId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="nt">"hometown"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"languages"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="nt">"paymentMethods"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
                </span><span class="nt">"communicationMethods"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="s2">"airbnb"</span><span class="w">
                </span><span class="p">],</span><span class="w">
                </span><span class="nt">"airbnb"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">8555466</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"url"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.airbnb.com/users/show/8555466"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"firstName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Koby"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"lastName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Soto"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"fullName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Koby Soto"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="nt">"phones"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
                </span><span class="nt">"emails"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
                </span><span class="nt">"pictures"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
                </span><span class="nt">"verifications"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="s2">"Email address"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"Phone number"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"Personal info"</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /guests</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>q</td>
<td><code class="prettyprint">null</code></td>
<td>Search query string. Searches in <code class="prettyprint">fullname, company, hometown, emails, phones</code></td>
<td><code class="prettyprint">&quot;Koby&quot;</code></td>
</tr>
<tr>
<td>include_confirmed</td>
<td><code class="prettyprint">true</code></td>
<td>Boolean</td>
<td><code class="prettyprint">true</code></td>
</tr>
<tr>
<td>include_unconfirmed</td>
<td><code class="prettyprint">false</code></td>
<td>Boolean</td>
<td><code class="prettyprint">false</code></td>
</tr>
<tr>
<td>fields</td>
<td><code class="prettyprint">null</code></td>
<td>Selection of fields, separated by space. When <code class="prettyprint">null</code> retrieves all object.</td>
<td><code class="prettyprint">&quot;firstName lastName phone&quot;</code></td>
</tr>
<tr>
<td>limit</td>
<td>25</td>
<td>Pagination, max: 100</td>
<td><code class="prettyprint">25</code></td>
</tr>
<tr>
<td>sort</td>
<td><code class="prettyprint">fullName</code></td>
<td>Sorting</td>
<td><code class="prettyprint">fullName</code></td>
</tr>
<tr>
<td>skip</td>
<td>0</td>
<td>Pagination</td>
<td><code class="prettyprint">0</code></td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>Array of requested guests</p>

<h2 id="create-a-guest">Create a guest</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /guests</code></p>

<h3 id="body">Body</h3>

<p>No required fields.</p>

<h3 id="response">Response</h3>

<p>The inserted object.</p>

<h2 id="retrieve-a-guest">Retrieve a guest</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /guests/:id</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>fields</td>
<td><code class="prettyprint">null</code></td>
<td>Selection of fields, separated by space. When <code class="prettyprint">null</code> retrieve all object.</td>
<td><code class="prettyprint">&quot;firstName lastName&quot;</code></td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>Guest object</p>

<h2 id="update-a-guest">Update a guest</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT /guests/:id</code></p>

<h3 id="body">Body</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
</tbody></table>

<h3 id="response">Response</h3>

<p>The updated guest object.</p>

<h2 id="delete-a-guest">Delete a guest</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE /guests/:id</code></p>

<h3 id="response">Response</h3>

<p><code class="prettyprint">OK</code></p>

<h1 id="phone-book-contacts">Phone Book Contacts</h1>

<h2 id="the-contact-object">The contact object</h2>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>_id</td>
<td>String</td>
<td>Unique id</td>
</tr>
<tr>
<td>accountId</td>
<td>ObjectId (String)</td>
<td>Owner</td>
</tr>
<tr>
<td>firstName</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>lastName</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>fullName</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>nickname</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>title</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>company</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>picture</td>
<td>Picture (Object)</td>
<td></td>
</tr>
<tr>
<td>emails</td>
<td>Array (String)</td>
<td></td>
</tr>
<tr>
<td>phones</td>
<td>Array (String)</td>
<td></td>
</tr>
<tr>
<td>preferredContactMethod</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>email</td>
<td>String</td>
<td>Default email to use</td>
</tr>
<tr>
<td>phone</td>
<td>String</td>
<td>Default phone to use</td>
</tr>
<tr>
<td>notes</td>
<td>String</td>
<td></td>
</tr>
</tbody></table>

<h2 id="list-all-contacts">List all contacts</h2>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w">
    </span><span class="nt">"skip"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /contacts</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>fields</td>
<td><code class="prettyprint">null</code></td>
<td>Selection of fields, separated by space</td>
<td><code class="prettyprint">&quot;fullName&quot;</code></td>
</tr>
<tr>
<td>sort</td>
<td><code class="prettyprint">null</code></td>
<td>Sorting</td>
<td><code class="prettyprint">&quot;nickname&quot;</code></td>
</tr>
<tr>
<td>limit</td>
<td><code class="prettyprint">25</code></td>
<td>Pagination, max: 100</td>
<td><code class="prettyprint">25</code></td>
</tr>
<tr>
<td>skip</td>
<td><code class="prettyprint">0</code></td>
<td>Pagination</td>
<td><code class="prettyprint">0</code></td>
</tr>
</tbody></table>

<h2 id="create-a-contact">Create a contact</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /contacts</code></p>

<h3 id="response">Response</h3>

<p>The created object.</p>

<h2 id="retrieve-a-contact">Retrieve a contact</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /contacts/:id</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>fields</td>
<td><code class="prettyprint">null</code></td>
<td>Selection of fields, separated by space. When <code class="prettyprint">null</code> retrieve all object.</td>
<td><code class="prettyprint">&quot;firstName lastName&quot;</code></td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>Contact object.</p>

<h2 id="update-a-contact">Update a contact</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT /contacts/:id</code></p>

<h3 id="response">Response</h3>

<p>The updated object with only the fields that were sent in body.</p>

<h2 id="delete-a-contact">Delete a contact</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE /contacts/:id</code></p>

<h3 id="response">Response</h3>

<p><code class="prettyprint">OK</code></p>

<h1 id="auto-tasks">Auto Tasks</h1>

<h2 id="the-auto-task-object">The auto task object</h2>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>_id</td>
<td>String</td>
<td>Unique id</td>
</tr>
<tr>
<td>accountId</td>
<td>ObjectId (String)</td>
<td>Owner</td>
</tr>
<tr>
<td>title</td>
<td>String</td>
<td><strong>Required</strong>, the task itself</td>
</tr>
<tr>
<td>description</td>
<td>String</td>
<td>task description</td>
</tr>
<tr>
<td>priority</td>
<td>Enum (Number)</td>
<td>1-5</td>
</tr>
<tr>
<td>createdAt</td>
<td>Date</td>
<td>Date created</td>
</tr>
<tr>
<td>createdBy</td>
<td>ObjectId (String)</td>
<td>ref to User</td>
</tr>
<tr>
<td>assigneeGroup</td>
<td>[String]</td>
<td>tags</td>
</tr>
<tr>
<td>assigneeId</td>
<td>ObjectId (String)</td>
<td>ref to User</td>
</tr>
<tr>
<td>supervisorId</td>
<td>ObjectId (String)</td>
<td>ref to User</td>
</tr>
<tr>
<td>price</td>
<td>Number</td>
<td>task tariff</td>
</tr>
<tr>
<td>checklist</td>
<td>Array (String)</td>
<td></td>
</tr>
<tr>
<td>attachments</td>
<td>[attachment object]</td>
<td>(see below)</td>
</tr>
<tr>
<td>afterEffects</td>
<td>[afterEffect object]</td>
<td>(see below)</td>
</tr>
<tr>
<td>startTime</td>
<td>String</td>
<td>formula for exact start time</td>
</tr>
<tr>
<td>plannedDuration</td>
<td>Number</td>
<td>planned duration for the task (in hours)</td>
</tr>
<tr>
<td>canStartAfter</td>
<td>String</td>
<td>formula for flexible start time</td>
</tr>
<tr>
<td>mustFinishBefore</td>
<td>String</td>
<td>formula for flexible end time</td>
</tr>
<tr>
<td>listingIds</td>
<td>Array (ObjectId)</td>
<td>Associated listings</td>
</tr>
<tr>
<td>tags</td>
<td>[String]</td>
<td></td>
</tr>
</tbody></table>

<h3 id="aftereffect">afterEffect</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>action</td>
<td>Enum</td>
<td><code class="prettyprint">change listing cleaning status</code>, <code class="prettyprint">change reservation status</code>, <code class="prettyprint">send hook</code></td>
</tr>
<tr>
<td>toStatus</td>
<td>String</td>
<td>for <code class="prettyprint">change reservation status</code> action</td>
</tr>
<tr>
<td>hookData</td>
<td>(hookDate object)</td>
<td>(see below)</td>
</tr>
</tbody></table>

<h3 id="hookdate">hookDate</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>action</td>
<td>Enum</td>
<td><code class="prettyprint">send email</code>, <code class="prettyprint">send sms</code>, <code class="prettyprint">send platform message</code></td>
</tr>
<tr>
<td>subject</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>message</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>target</td>
<td>Enum</td>
<td><code class="prettyprint">user</code>, <code class="prettyprint">contact</code>, <code class="prettyprint">guest</code>, <code class="prettyprint">supervisor</code></td>
</tr>
<tr>
<td>targetId</td>
<td>ObjectId</td>
<td>ref to User</td>
</tr>
</tbody></table>

<h3 id="attachment">attachment</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>_id</td>
<td>String</td>
<td>Unique id</td>
</tr>
<tr>
<td>url</td>
<td>String</td>
<td><strong>Required</strong>, attachment file url</td>
</tr>
<tr>
<td>title</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>mimetype</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>size</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>client</td>
<td>String</td>
<td></td>
</tr>
</tbody></table>

<h2 id="list-all-auto-tasks">List all auto tasks</h2>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w">
    </span><span class="nt">"skip"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /default-tasks</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>fields</td>
<td><code class="prettyprint">null</code></td>
<td>Selection of fields, separated by space</td>
<td><code class="prettyprint">&quot;title&quot;</code></td>
</tr>
<tr>
<td>sort</td>
<td><code class="prettyprint">createdAt</code>; <code class="prettyprint">completedAt</code> in <em>completed</em> mode</td>
<td>Sorting</td>
<td><code class="prettyprint">&quot;createdAt&quot;</code></td>
</tr>
<tr>
<td>limit</td>
<td><code class="prettyprint">25</code></td>
<td>Pagination, max: 100</td>
<td><code class="prettyprint">25</code></td>
</tr>
<tr>
<td>skip</td>
<td><code class="prettyprint">0</code></td>
<td>Pagination</td>
<td><code class="prettyprint">0</code></td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>createdBy is populated as a user object with the fields: <code class="prettyprint">_id</code>, <code class="prettyprint">fullName</code>, <code class="prettyprint">picture.thumbnail</code>.
assignee is a populated version of assigneeId as a user object with the fields: <code class="prettyprint">_id</code>, <code class="prettyprint">fullName</code>, <code class="prettyprint">picture.thumbnail</code>.</p>

<h2 id="create-an-auto-task">Create an auto task</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /default-tasks</code></p>

<h3 id="response">Response</h3>

<p>The created object.</p>

<h2 id="retrieve-an-auto-task">Retrieve an auto task</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /default-tasks/:id</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>fields</td>
<td><code class="prettyprint">null</code></td>
<td>Selection of fields, separated by space. When <code class="prettyprint">null</code> retrieve all object.</td>
<td><code class="prettyprint">&quot;title&quot;</code></td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>Auto task object.</p>

<h2 id="update-an-auto-task">Update an auto task</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT /default-tasks/:id</code></p>

<h3 id="response">Response</h3>

<p>The updated object with only the fields that were sent in body.</p>

<h2 id="delete-an-auto-task">Delete an auto task</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE /default-tasks/:id</code></p>

<h3 id="response">Response</h3>

<p><code class="prettyprint">OK</code></p>

<h1 id="tasks">Tasks</h1>

<h2 id="the-task-object">The task object</h2>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>_id</td>
<td>String</td>
<td>Unique id</td>
</tr>
<tr>
<td>accountId</td>
<td>ObjectId (String)</td>
<td>Owner</td>
</tr>
<tr>
<td>title</td>
<td>String</td>
<td><strong>Required</strong>, the task itself</td>
</tr>
<tr>
<td>description</td>
<td>String</td>
<td>task description</td>
</tr>
<tr>
<td>priority</td>
<td>Enum (Number)</td>
<td>1-5</td>
</tr>
<tr>
<td>createdAt</td>
<td>Date</td>
<td>Date created</td>
</tr>
<tr>
<td>createdBy</td>
<td>ObjectId (String)</td>
<td>ref to User</td>
</tr>
<tr>
<td>assigneeGroup</td>
<td>[String]</td>
<td>tags</td>
</tr>
<tr>
<td>assigneeId</td>
<td>ObjectId (String)</td>
<td>ref to User</td>
</tr>
<tr>
<td>supervisorId</td>
<td>ObjectId (String)</td>
<td>ref to User</td>
</tr>
<tr>
<td>price</td>
<td>Number</td>
<td>task tariff</td>
</tr>
<tr>
<td>checklist</td>
<td>Array (String)</td>
<td></td>
</tr>
<tr>
<td>attachments</td>
<td>[attachment object]</td>
<td>(see below)</td>
</tr>
<tr>
<td>afterEffects</td>
<td>[afterEffect object]</td>
<td>(see below)</td>
</tr>
<tr>
<td>status</td>
<td>Enum</td>
<td><code class="prettyprint">pending</code>, <code class="prettyprint">confirmed</code>, <code class="prettyprint">in progress</code>, <code class="prettyprint">completed</code>, <code class="prettyprint">canceled</code></td>
</tr>
<tr>
<td>startTime</td>
<td>Date</td>
<td></td>
</tr>
<tr>
<td>endTime</td>
<td>Date</td>
<td></td>
</tr>
<tr>
<td>plannedDuration</td>
<td>Number</td>
<td>planned duration for the task (in hours)</td>
</tr>
<tr>
<td>canStartAfter</td>
<td>String</td>
<td>formula for flexible start time</td>
</tr>
<tr>
<td>mustFinishBefore</td>
<td>String</td>
<td>formula for flexible end time</td>
</tr>
<tr>
<td>confirmedAt</td>
<td>Date</td>
<td></td>
</tr>
<tr>
<td>startedAt</td>
<td>Date</td>
<td></td>
</tr>
<tr>
<td>completedAt</td>
<td>Date</td>
<td></td>
</tr>
<tr>
<td>completedBy</td>
<td>User (Object)</td>
<td>Fields: <code class="prettyprint">_id</code>, <code class="prettyprint">fullName</code>, <code class="prettyprint">picture.thumbnail</code></td>
</tr>
<tr>
<td>listingId</td>
<td>ObjectId (String)</td>
<td>ref to Listing</td>
</tr>
<tr>
<td>reservationId</td>
<td>ObjectId (String)</td>
<td>ref to Reservation</td>
</tr>
<tr>
<td>comments</td>
<td>[comment object]</td>
<td>(see below)</td>
</tr>
<tr>
<td>lastComment</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>checklistFinished</td>
<td>[String]</td>
<td></td>
</tr>
<tr>
<td>prototypeId</td>
<td>ObjectId (String)</td>
<td>link to auto task</td>
</tr>
<tr>
<td>feedbackScore</td>
<td>Number</td>
<td>[0-5]</td>
</tr>
<tr>
<td>feedbackNotes</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>editedFields</td>
<td>[String]</td>
<td>fields that were manually edited and should not be automatically overridden</td>
</tr>
<tr>
<td>log</td>
<td>[log object]</td>
<td>(see below)</td>
</tr>
</tbody></table>

<h3 id="log">log</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>event</td>
<td>String</td>
<td><strong>Required</strong></td>
</tr>
<tr>
<td>description</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>by</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>at</td>
<td>Date</td>
<td></td>
</tr>
<tr>
<td>changes</td>
<td>[change object]</td>
<td>(see below)</td>
</tr>
</tbody></table>

<h3 id="change">change</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>field</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>diff</td>
<td>[diff object]</td>
<td>(see below)</td>
</tr>
</tbody></table>

<h3 id="diff">diff</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>value</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>added</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>removed</td>
<td>Boolean</td>
<td></td>
</tr>
</tbody></table>

<h3 id="comment">comment</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>text</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>by</td>
<td>ObjectId (String)</td>
<td>ref to User</td>
</tr>
<tr>
<td>at</td>
<td>Date</td>
<td></td>
</tr>
</tbody></table>

<h3 id="aftereffect">afterEffect</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>action</td>
<td>Enum</td>
<td><code class="prettyprint">change listing cleaning status</code>, <code class="prettyprint">change reservation status</code>, <code class="prettyprint">send hook</code></td>
</tr>
<tr>
<td>toStatus</td>
<td>String</td>
<td>for <code class="prettyprint">change reservation status</code> action</td>
</tr>
<tr>
<td>hookData</td>
<td>(hookDate object)</td>
<td>(see below)</td>
</tr>
</tbody></table>

<h3 id="hookdate">hookDate</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>action</td>
<td>Enum</td>
<td><code class="prettyprint">send email</code>, <code class="prettyprint">send sms</code>, <code class="prettyprint">send platform message</code></td>
</tr>
<tr>
<td>subject</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>message</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>target</td>
<td>Enum</td>
<td><code class="prettyprint">user</code>, <code class="prettyprint">contact</code>, <code class="prettyprint">guest</code>, <code class="prettyprint">supervisor</code></td>
</tr>
<tr>
<td>targetId</td>
<td>ObjectId</td>
<td>ref to User</td>
</tr>
</tbody></table>

<h3 id="attachment">attachment</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>_id</td>
<td>String</td>
<td>Unique id</td>
</tr>
<tr>
<td>url</td>
<td>String</td>
<td><strong>Required</strong>, attachment file url</td>
</tr>
<tr>
<td>title</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>mimetype</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>size</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>client</td>
<td>String</td>
<td></td>
</tr>
</tbody></table>

<h3 id="comments">comments</h3>

<p>Array of comments:</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>_id</td>
<td>String</td>
<td>Unique id</td>
</tr>
<tr>
<td>text</td>
<td>String</td>
<td><strong>Required</strong>, the comment</td>
</tr>
<tr>
<td>by</td>
<td>User (Object)</td>
<td>Fields: <code class="prettyprint">_id</code>, <code class="prettyprint">fullName</code>, <code class="prettyprint">picture.thumbnail</code></td>
</tr>
<tr>
<td>at</td>
<td>Date</td>
<td>Timestamp</td>
</tr>
</tbody></table>

<h2 id="list-all-tasks">List all tasks</h2>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w">
    </span><span class="nt">"skip"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /tasks</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>listingId</td>
<td><code class="prettyprint">null</code></td>
<td>Filter by specific listing</td>
<td><code class="prettyprint">&quot;531968414930a7f09b075800&quot;</code></td>
</tr>
<tr>
<td>reservationId</td>
<td><code class="prettyprint">null</code></td>
<td>Filter by specific reservation</td>
<td><code class="prettyprint">&quot;531968414930a7f09b075800&quot;</code></td>
</tr>
<tr>
<td>done</td>
<td><code class="prettyprint">false</code></td>
<td>Whether to show completed tasks or uncompleted tasks or <code class="prettyprint">both</code>.</td>
<td></td>
</tr>
<tr>
<td>assignee</td>
<td><code class="prettyprint">null</code></td>
<td>Filter by assignee&rsquo;s user id</td>
<td><code class="prettyprint">&quot;531968414930a7f09b075800&quot;</code></td>
</tr>
<tr>
<td>fields</td>
<td><code class="prettyprint">null</code></td>
<td>Selection of fields, separated by space</td>
<td><code class="prettyprint">&quot;title&quot;</code></td>
</tr>
<tr>
<td>sort</td>
<td><code class="prettyprint">createdAt</code>; <code class="prettyprint">completedAt</code> in <em>completed</em> mode</td>
<td>Sorting</td>
<td><code class="prettyprint">&quot;title&quot;</code></td>
</tr>
<tr>
<td>limit</td>
<td><code class="prettyprint">25</code></td>
<td>Pagination, max: 100</td>
<td><code class="prettyprint">25</code></td>
</tr>
<tr>
<td>skip</td>
<td><code class="prettyprint">0</code></td>
<td>Pagination</td>
<td><code class="prettyprint">0</code></td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>createdBy is populated as a user object with the fields: <code class="prettyprint">_id</code>, <code class="prettyprint">fullName</code>, <code class="prettyprint">picture.thumbnail</code>.</p>

<p>completedBy is populated as a user object with the fields: <code class="prettyprint">_id</code>, <code class="prettyprint">fullName</code>, <code class="prettyprint">picture.thumbnail</code>.</p>

<p>assignee is a populated version of assigneeId as a user object with the fields: <code class="prettyprint">_id</code>, <code class="prettyprint">fullName</code>, <code class="prettyprint">picture.thumbnail</code>.</p>

<p>listing is a populated version of listingId as a listing object with the fields: <code class="prettyprint">_id</code>, <code class="prettyprint">title</code>, <code class="prettyprint">nickname</code>, <code class="prettyprint">picture.thumbnail</code>.</p>

<p>reservation is a populated version of reservationId as a reservation object with the fields: <code class="prettyprint">_id</code>, <code class="prettyprint">confirmationCode</code>.</p>

<h2 id="create-a-task">Create a task</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /tasks</code></p>

<p>Connected user can always create tasks for himself.</p>

<h3 id="response">Response</h3>

<p>The created object.</p>

<h2 id="retrieve-a-task">Retrieve a task</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /tasks/:id</code></p>

<p>Connected user&rsquo;s assigned tasks are always accessible.</p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>fields</td>
<td><code class="prettyprint">null</code></td>
<td>Selection of fields, separated by space. When <code class="prettyprint">null</code> retrieve all object.</td>
<td><code class="prettyprint">&quot;title&quot;</code></td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>Task object.</p>

<h2 id="update-a-task">Update a task</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT /tasks/:id</code></p>

<h3 id="response">Response</h3>

<p>The updated object with only the fields that were sent in body.</p>

<h2 id="delete-a-task">Delete a task</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE /tasks/:id</code></p>

<h3 id="response">Response</h3>

<p><code class="prettyprint">OK</code></p>

<h2 id="export-as-csv">Export as CSV</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /tasks.csv</code></p>

<p><strong>Same as <code class="prettyprint">/tasks</code> but results are returned as a downloadable csv file</strong></p>

<h2 id="send-results-in-email">Send results in email</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /tasks.email</code></p>

<p><strong>Same as <code class="prettyprint">/tasks</code> but results are sent as an email</strong></p>

<h3 id="body-parameters">Body Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>to</td>
<td><strong>Required</strong></td>
<td>Address of recipient</td>
<td><code class="prettyprint">koby@guesty.com</code></td>
</tr>
</tbody></table>

<h1 id="inbox-guest-conversations">Inbox - Guest conversations</h1>

<h2 id="conversation-object">Conversation object</h2>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>_id</td>
<td>String</td>
<td>Unique id</td>
</tr>
<tr>
<td>accountId</td>
<td>ObjectId(Account)</td>
<td></td>
</tr>
<tr>
<td>integrationId</td>
<td>ObjectId (Integration)</td>
<td></td>
</tr>
<tr>
<td>guestId</td>
<td></td>
<td></td>
</tr>
<tr>
<td>guest</td>
<td></td>
<td></td>
</tr>
<tr>
<td>createdAt</td>
<td>Date</td>
<td></td>
</tr>
<tr>
<td>thread</td>
<td>Date</td>
<td></td>
</tr>
<tr>
<td>lastUpdatedAt</td>
<td>Date</td>
<td></td>
</tr>
</tbody></table>

<h3 id="thread-object"><code class="prettyprint">thread</code> object</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>_id</td>
<td>String</td>
<td>Unique id</td>
</tr>
<tr>
<td>module</td>
<td>enum (airbnb, email, sms, rentalsUnited)</td>
<td></td>
</tr>
<tr>
<td>createdAt</td>
<td>Date</td>
<td></td>
</tr>
<tr>
<td>sentAt</td>
<td>Date</td>
<td></td>
</tr>
<tr>
<td>shouldBeSentAt</td>
<td>Date</td>
<td></td>
</tr>
<tr>
<td>status</td>
<td>enum (pending, completed, error)</td>
<td></td>
</tr>
<tr>
<td>error</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>isAutomatic</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>reservationId</td>
<td>ObjectId (Reservation)</td>
<td></td>
</tr>
</tbody></table>

<h4 id="email-object"><code class="prettyprint">email</code> object</h4>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>from</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>to</td>
<td>Array (String)</td>
<td></td>
</tr>
<tr>
<td>cc</td>
<td>Array (String)</td>
<td>Array of emails to send this email in cc</td>
</tr>
<tr>
<td>bcc</td>
<td>Array (String)</td>
<td>Array of emails to send this email in bcc</td>
</tr>
<tr>
<td>subject</td>
<td>String</td>
<td>Subject line for the email</td>
</tr>
<tr>
<td>body</td>
<td>String</td>
<td>Text of message, html format</td>
</tr>
<tr>
<td>attachments</td>
<td>Array of attachments</td>
<td></td>
</tr>
</tbody></table>

<h4 id="sms-object"><code class="prettyprint">sms</code> object</h4>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>from</td>
<td>String</td>
<td>Source phone</td>
</tr>
<tr>
<td>to</td>
<td>Array (String)</td>
<td>Phone targets</td>
</tr>
<tr>
<td>body</td>
<td>String</td>
<td>Text of message, plain format</td>
</tr>
</tbody></table>

<h4 id="airbnb-object"><code class="prettyprint">airbnb</code> object</h4>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>body</td>
<td>String</td>
<td>Text of message, plain format</td>
</tr>
</tbody></table>

<h2 id="list-all-conversations">List all conversations</h2>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w">
    </span><span class="nt">"skip"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /inbox/conversations</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>guestId</td>
<td><code class="prettyprint">null</code></td>
<td>Filter by specific guest</td>
<td><code class="prettyprint">&quot;531968414930a7f09b075800&quot;</code></td>
</tr>
<tr>
<td>reservationId</td>
<td><code class="prettyprint">null</code></td>
<td>Filter by specific reservation</td>
<td><code class="prettyprint">&quot;531968414930a7f09b075800&quot;</code></td>
</tr>
<tr>
<td>fields</td>
<td><code class="prettyprint">null</code></td>
<td>Selection of fields, separated by space</td>
<td><code class="prettyprint">&quot;thread&quot;</code></td>
</tr>
<tr>
<td>sort</td>
<td><code class="prettyprint">createdAt</code>; <code class="prettyprint">completedAt</code> in <em>completed</em> mode</td>
<td>Sorting</td>
<td><code class="prettyprint">&quot;lastUpdatedAt&quot;</code></td>
</tr>
<tr>
<td>limit</td>
<td><code class="prettyprint">25</code></td>
<td>Pagination, max: 100</td>
<td><code class="prettyprint">25</code></td>
</tr>
<tr>
<td>skip</td>
<td><code class="prettyprint">0</code></td>
<td>Pagination</td>
<td><code class="prettyprint">0</code></td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>guest is a populated version of guestId as a guest object with the fields: <code class="prettyprint">_id</code>, <code class="prettyprint">fullName</code>, <code class="prettyprint">picture.thumbnail</code>.</p>

<h2 id="retrieve-a-conversation">Retrieve a conversation</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /inbox/conversations/:id</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>fields</td>
<td><code class="prettyprint">null</code></td>
<td>Selection of fields, separated by space. When <code class="prettyprint">null</code> retrieve all object.</td>
<td><code class="prettyprint">&quot;thread&quot;</code></td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>Conversation object.</p>

<h2 id="post-a-new-message">Post a new message</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /inbox/conversations</code></p>

<h3 id="response">Response</h3>

<p>Updated conversation object.</p>

<h1 id="invoices">Invoices</h1>

<h2 id="invoice-object">Invoice object</h2>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>_id</td>
<td>String</td>
<td>Unique id</td>
</tr>
<tr>
<td>accountId</td>
<td>String</td>
<td>Id of the account owning this invoice</td>
</tr>
<tr>
<td>methodId</td>
<td>String</td>
<td>Id of the payment method.</td>
</tr>
<tr>
<td>method</td>
<td>Enum</td>
<td>Can be any supported payment method, currently only <code class="prettyprint">stripe</code>. (It is here to make it permanent as method can be deleted)</td>
</tr>
<tr>
<td>methodText</td>
<td>String</td>
<td>Representable name of the payment method. e.g. &ldquo;Visa 7243&rdquo; (It is here to make it permanent as method can be deleted)</td>
</tr>
<tr>
<td>status</td>
<td>Enum</td>
<td>Can be <code class="prettyprint">succeeded</code> or <code class="prettyprint">failed</code> or <code class="prettyprint">fully-refunded</code>.</td>
</tr>
<tr>
<td>amount</td>
<td>Number</td>
<td>The amount paid</td>
</tr>
<tr>
<td>currency</td>
<td>Enum</td>
<td>Any supported currency.</td>
</tr>
<tr>
<td>creditApplied</td>
<td>Number</td>
<td>The amount of credit that was used in this invoice.</td>
</tr>
<tr>
<td>description</td>
<td>String</td>
<td>Text describing the invoice.</td>
</tr>
<tr>
<td>createdAt</td>
<td>Date</td>
<td>The date this invoice was created.</td>
</tr>
<tr>
<td>refundedAt</td>
<td>Date</td>
<td>The date this invoice was last refunded, even partially.</td>
</tr>
<tr>
<td>refundedAmount</td>
<td>Number</td>
<td>The amount this invoice has been refunded.</td>
</tr>
<tr>
<td>receiptExtraContent</td>
<td>String</td>
<td>Text to add to the receipt, usually defaulted to payment method. (It is here to make it permanent.)</td>
</tr>
<tr>
<td>error</td>
<td>String</td>
<td>If there has been an error (status is failed) this is its description</td>
</tr>
<tr>
<td>stripe</td>
<td>Object</td>
<td>An external object with details of this transaction.</td>
</tr>
</tbody></table>

<h2 id="list-invoices">List  invoices</h2>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
     </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
     </span><span class="nt">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w">
     </span><span class="nt">"skip"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
     </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">

        </span><span class="p">}</span><span class="w">
     </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /billing/invoices</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>methodId</td>
<td><code class="prettyprint">null</code></td>
<td>Limit results to specific payment methods. Can send an array.</td>
<td><code class="prettyprint">531968414930a7f09b075800</code></td>
</tr>
<tr>
<td>include_failed</td>
<td><code class="prettyprint">true</code></td>
<td>Boolean</td>
<td><code class="prettyprint">true</code></td>
</tr>
<tr>
<td>fields</td>
<td><code class="prettyprint">null</code></td>
<td>Selection of fields, separated by space</td>
<td><code class="prettyprint">amount createdAt</code></td>
</tr>
<tr>
<td>sort</td>
<td><code class="prettyprint">-createdAt</code></td>
<td>Field to sort by. Prepend <code class="prettyprint">-</code> for DESC.</td>
<td><code class="prettyprint">createdAt</code></td>
</tr>
<tr>
<td>limit</td>
<td>25</td>
<td>Pagination, max: 100</td>
<td><code class="prettyprint">25</code></td>
</tr>
<tr>
<td>skip</td>
<td>0</td>
<td>Pagination</td>
<td><code class="prettyprint">0</code></td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>Invoice objects</p>

<h2 id="upcoming-invoice">Upcoming invoice</h2>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nt">"accountId"</span><span class="p">:</span><span class="s2">"57b60badd5551e0e008a27d2"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"methodId"</span><span class="p">:</span><span class="s2">"57b62760d5555e0e008a2d0f"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"status"</span><span class="p">:</span><span class="s2">"upcoming"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"amount"</span><span class="p">:</span><span class="mi">41</span><span class="p">,</span><span class="w">
   </span><span class="nt">"items"</span><span class="p">:{</span><span class="w">
      </span><span class="nt">"count"</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="w">
      </span><span class="nt">"limit"</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="w">
      </span><span class="nt">"skip"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"results"</span><span class="p">:[</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nt">"amount"</span><span class="p">:</span><span class="mi">9</span><span class="p">,</span><span class="w">
            </span><span class="nt">"currency"</span><span class="p">:</span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"description"</span><span class="p">:</span><span class="s2">"Booking fee - 3% - AAAAAA - Listing title - Guest name"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"isOurFee"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nt">"reservationId"</span><span class="p">:</span><span class="s2">"58113c055568bb030055bd1f"</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nt">"amount"</span><span class="p">:</span><span class="mi">8</span><span class="p">,</span><span class="w">
            </span><span class="nt">"currency"</span><span class="p">:</span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"description"</span><span class="p">:</span><span class="s2">"Booking fee - 3% - AAAAAA - Listing title - Guest name"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"isOurFee"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nt">"reservationId"</span><span class="p">:</span><span class="s2">"58148555e5721903001c3f51"</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nt">"amount"</span><span class="p">:</span><span class="mi">11</span><span class="p">,</span><span class="w">
            </span><span class="nt">"currency"</span><span class="p">:</span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"description"</span><span class="p">:</span><span class="s2">"Booking fee - 3% - AAAAAA - Listing title - Guest name"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"isOurFee"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nt">"reservationId"</span><span class="p">:</span><span class="s2">"5816538cdb78fd0555b1410f"</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nt">"amount"</span><span class="p">:</span><span class="mi">7</span><span class="p">,</span><span class="w">
            </span><span class="nt">"currency"</span><span class="p">:</span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"description"</span><span class="p">:</span><span class="s2">"Booking fee - 3% - AAAAAA - Listing title - Guest name"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"isOurFee"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nt">"reservationId"</span><span class="p">:</span><span class="s2">"581f9a54b03355530008f8c3"</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nt">"amount"</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span><span class="w">
            </span><span class="nt">"currency"</span><span class="p">:</span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"description"</span><span class="p">:</span><span class="s2">"Booking fee - 3% -  - AAAAAA - Listing title - Guest name"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"isOurFee"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nt">"reservationId"</span><span class="p">:</span><span class="s2">"58202fb2a0455503008abe75"</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nt">"method"</span><span class="p">:</span><span class="s2">"stripe"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"methodText"</span><span class="p">:</span><span class="s2">"MasterCard 4444"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"currency"</span><span class="p">:</span><span class="s2">"USD"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /billing/invoices/upcoming</code></p>

<p>Used to get the customer upcoming invoices for each of his payment methods
It is a little different since it is not really an invoice object yet. Invoices are created only upon payment.
Also unlike invoices/list, each invoice also has its invoice items. Pagination is also available.</p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>methodId</td>
<td>&mdash;</td>
<td><strong>Required</strong> Limit results to the invoice of specific payment method. <code class="prettyprint">null</code> for unassociated method&rsquo;s invoice (in case there is no payment method).</td>
<td><code class="prettyprint">531968414930a7f09b075800</code></td>
</tr>
<tr>
<td>limit</td>
<td><code class="prettyprint">10</code></td>
<td>Pagination for invoice items</td>
<td><code class="prettyprint">10</code></td>
</tr>
<tr>
<td>skip</td>
<td><code class="prettyprint">0</code></td>
<td>Pagination for invoice items</td>
<td><code class="prettyprint">0</code></td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>List of invoice-like objects, where each item is a different payment method. <code class="prettyprint">status</code> is <code class="prettyprint">pending</code>.
Not included fields are <code class="prettyprint">creditApplied</code>, <code class="prettyprint">createdAt</code>, <code class="prettyprint">paidAt</code>, <code class="prettyprint">refundedAt</code>, <code class="prettyprint">refundedAmount</code>, <code class="prettyprint">receiptExtraContent</code>, <code class="prettyprint">error</code>, <code class="prettyprint">stripe</code>.</p>

<h4 id="items-object"><strong>items</strong> object</h4>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>count</td>
<td>Number</td>
<td>Total count of results</td>
</tr>
<tr>
<td>limit</td>
<td>Number</td>
<td>Maximum number of invoice items to include in this object, always 10. For more, use <code class="prettyprint">invoice items.list</code></td>
</tr>
<tr>
<td>results</td>
<td>Array</td>
<td>Array of invoice item objects</td>
</tr>
</tbody></table>

<h2 id="download-invoices-receipts-as-pdf">Download invoices receipts as pdf</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /billing/invoices/download.pdf</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>invoiceId</td>
<td>&mdash;</td>
<td><strong>Required</strong> What invoices to download. Can send an array.</td>
<td><code class="prettyprint">531968414930a7f09b075800</code></td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>PDF file of receipts (use pages for multiple receipts) with download headers.</p>

<h2 id="email-invoices">Email invoices</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /billing/invoices/email</code></p>

<p>Sends an email with attached receipt PDF file of receipts (use pages for multiple receipts).</p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>invoiceId</td>
<td>&mdash;</td>
<td><strong>Required</strong> What invoices to download. Can send an array.</td>
<td><code class="prettyprint">531968414930a7f09b075800</code></td>
</tr>
<tr>
<td>recipient</td>
<td>&mdash;</td>
<td><strong>Required</strong> The email of the recipient. Format <code class="prettyprint">Name &lt;email&gt;</code>.</td>
<td><code class="prettyprint">Koby &lt;koby@guesty.com&gt;</code></td>
</tr>
<tr>
<td>message</td>
<td>&ldquo;</td>
<td>A message to be included in the email.</td>
<td><code class="prettyprint">See attached receipt</code></td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p><code class="prettyprint">OK</code></p>

<h2 id="retrieve-an-invoice">Retrieve an invoice</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /billing/invoices/:id</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>fields</td>
<td><code class="prettyprint">null</code></td>
<td>Selection of fields, separated by space</td>
<td><code class="prettyprint">&quot;amount currency&quot;</code></td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>Invoice object</p>

<h1 id="invoice-items">Invoice Items</h1>

<h2 id="invoice-item-object">Invoice item object</h2>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"5432aa2cfc3a0b002a00000a"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"accountId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"5319685c4930a7f09b075843"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"reservationId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"537266ab8cc22c0b000000b7"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"currency"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"createdAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-10-06T14:41:48.730Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"description"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Booking fee - Cozy Cottage by Ocean - 3%"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nt">"shouldBePaidAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-10-24T15:40:38.667Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"paidAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"1970-01-01T00:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"isOurFee"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>_id</td>
<td>String</td>
<td>Unique id</td>
</tr>
<tr>
<td>accountId</td>
<td>String</td>
<td>Id of the user owning this invoice <strong>(required)</strong></td>
</tr>
<tr>
<td>reservationId</td>
<td>String</td>
<td>Id of the booking associated to this invoice item.</td>
</tr>
<tr>
<td>amount</td>
<td>Number</td>
<td>The amount of this charge <strong>(required)</strong></td>
</tr>
<tr>
<td>currency</td>
<td>Enum</td>
<td>Any supported currency. <strong>(required)</strong></td>
</tr>
<tr>
<td>description</td>
<td>String</td>
<td>Text describing the invoice item.</td>
</tr>
<tr>
<td>createdAt</td>
<td>Date</td>
<td>The date this invoice was created. <strong>(required)</strong></td>
</tr>
<tr>
<td>shouldBePaidAt</td>
<td>Date</td>
<td>The expected date of payment. <strong>(required)</strong></td>
</tr>
<tr>
<td>paidAt</td>
<td>Date</td>
<td>The date this invoice was paid.</td>
</tr>
<tr>
<td>invoiceId</td>
<td>String</td>
<td>Id of the invoice this item was liked to.</td>
</tr>
<tr>
<td>isOurFee</td>
<td>Boolean</td>
<td>Whether it is Guesty fee.</td>
</tr>
</tbody></table>

<h2 id="list-invoice-items">List invoice items</h2>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
     </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
     </span><span class="nt">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w">
     </span><span class="nt">"skip"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
     </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">

        </span><span class="p">}</span><span class="w">
     </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /billing/invoice-items</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>methodId</td>
<td>&mdash;</td>
<td>Limit results to a specific payment method</td>
<td><code class="prettyprint">531968414930a7f09b075800</code></td>
</tr>
<tr>
<td>invoiceId</td>
<td>&mdash;</td>
<td>Limit results to a specific invoice</td>
<td><code class="prettyprint">531968414930a7f09b075800</code></td>
</tr>
<tr>
<td>include_paid</td>
<td><code class="prettyprint">true</code></td>
<td>Whether to filter fo just paid items</td>
<td></td>
</tr>
<tr>
<td>include_unpaid</td>
<td><code class="prettyprint">true</code></td>
<td>Whether to filter to just unpaid items</td>
<td></td>
</tr>
<tr>
<td>fields</td>
<td><code class="prettyprint">null</code></td>
<td>Selection of fields, separated by space</td>
<td><code class="prettyprint">&quot;amount&quot;</code></td>
</tr>
<tr>
<td>limit</td>
<td><code class="prettyprint">10</code></td>
<td>Pagination</td>
<td><code class="prettyprint">10</code></td>
</tr>
<tr>
<td>skip</td>
<td><code class="prettyprint">0</code></td>
<td>Pagination</td>
<td><code class="prettyprint">0</code></td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>Object of total count, pagination (limit, skip) and results as array of invoice item objects.</p>

<h2 id="retrieve-an-invoice-item">Retrieve an invoice item</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /billing/invoice-items/:id</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>fields</td>
<td><code class="prettyprint">null</code></td>
<td>Fields to select. If null, return all</td>
<td><code class="prettyprint">amount currency</code></td>
</tr>
</tbody></table>

<h2 id="download-invoice-39-s-invoice-items-as-csv">Download invoice&rsquo;s invoice items as csv</h2>

<p>Returns a list of all paid invoice items.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /billing/invoice-items/download.csv</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>methodId</td>
<td>&mdash;</td>
<td>Limit to payment method.</td>
<td><code class="prettyprint">531968414930a7f09b075800</code></td>
</tr>
<tr>
<td>invoiceId</td>
<td>&mdash;</td>
<td>What invoices to download. Can send an array.</td>
<td><code class="prettyprint">531968414930a7f09b075800</code></td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>CSV file with download headers. One CSV file for all items (No separate file for each invoice).</p>

<p>CSV is a spreadsheet of invoice items (fields): <code class="prettyprint">description</code>, <code class="prettyprint">amount</code>, <code class="prettyprint">currency</code>, <code class="prettyprint">paidAt</code></p>

<p>No limit on rows count.</p>

          <h1 id="errors">Errors</h1>

<p>Platform API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed &ndash; You tried to access with an invalid method</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable &ndash; You requested a format that isn&rsquo;t json</td>
</tr>
<tr>
<td>410</td>
<td>Gone &ndash; The requested object has been removed from our servers</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests &ndash; You&rsquo;re requesting too many requests! Slow down!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error &ndash; We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable &ndash; We&rsquo;re temporarially offline for maintanance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="json">json</a>
          </div>
      </div>
    </div>
  </body>
</html>
